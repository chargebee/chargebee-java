/*
 * This file is auto-generated by Chargebee.
 * Copyright 2025 Chargebee Inc.
 */

package com.chargebee.v4.filters;

import java.util.Map;

/**
 * Filter for numeric fields supporting is, isNot, lt, lte, gt, gte, between operations.
 *
 * @param <B> The builder type to return for method chaining
 */
public class NumberFilter<B> {

  protected final String fieldName;
  protected final B builder;
  protected final Map<String, Object> params;
  private boolean supportsPresenceOperator = false;

  public NumberFilter(String fieldName, B builder, Map<String, Object> params) {
    this.fieldName = fieldName;
    this.builder = builder;
    this.params = params;
  }

  public NumberFilter<B> supportsPresenceOperator(boolean supportsPresenceOperator) {
    this.supportsPresenceOperator = supportsPresenceOperator;
    return this;
  }

  public B is(Long value) {
    params.put(fieldName + "[is]", value);
    return builder;
  }

  public B isNot(Long value) {
    params.put(fieldName + "[is_not]", value);
    return builder;
  }

  public B lt(Long value) {
    params.put(fieldName + "[lt]", value);
    return builder;
  }

  public B lte(Long value) {
    params.put(fieldName + "[lte]", value);
    return builder;
  }

  public B gt(Long value) {
    params.put(fieldName + "[gt]", value);
    return builder;
  }

  public B gte(Long value) {
    params.put(fieldName + "[gte]", value);
    return builder;
  }

  public B between(Long start, Long end) {
    params.put(fieldName + "[between]", "[" + start + "," + end + "]");
    return builder;
  }

  public B isPresent(boolean value) {
    if (!supportsPresenceOperator) {
      throw new UnsupportedOperationException(
          "operator '[is_present]' is not supported for this filter-parameter");
    }
    params.put(fieldName + "[is_present]", String.valueOf(value));
    return builder;
  }
}

