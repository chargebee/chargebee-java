/*
 * This file is auto-generated by Chargebee.
 * For more information on how to make changes to this file, please see the README.
 * Reach out to dx@chargebee.com for any questions.
 * Copyright 2025 Chargebee Inc.
 */
package com.chargebee.v4.models.personalizedOffer.params;

import com.chargebee.v4.internal.Recommended;
import com.chargebee.v4.internal.JsonUtil;

import java.util.LinkedHashMap;
import java.util.Map;
import java.util.List;

public final class PersonalizedOffersParams {

  private final String firstName;

  private final String lastName;

  private final String email;

  private final List<String> roles;

  private final String externalUserId;

  private final String subscriptionId;

  private final String customerId;

  private final java.util.Map<String, Object> custom;

  private final RequestContextParams requestContext;

  private PersonalizedOffersParams(PersonalizedOffersBuilder builder) {

    this.firstName = builder.firstName;

    this.lastName = builder.lastName;

    this.email = builder.email;

    this.roles = builder.roles;

    this.externalUserId = builder.externalUserId;

    this.subscriptionId = builder.subscriptionId;

    this.customerId = builder.customerId;

    this.custom = builder.custom;

    this.requestContext = builder.requestContext;
  }

  public String getFirstName() {
    return firstName;
  }

  public String getLastName() {
    return lastName;
  }

  public String getEmail() {
    return email;
  }

  public List<String> getRoles() {
    return roles;
  }

  public String getExternalUserId() {
    return externalUserId;
  }

  public String getSubscriptionId() {
    return subscriptionId;
  }

  public String getCustomerId() {
    return customerId;
  }

  public java.util.Map<String, Object> getCustom() {
    return custom;
  }

  public RequestContextParams getRequestContext() {
    return requestContext;
  }

  /** Get the form data for this request. */
  public Map<String, Object> toFormData() {
    Map<String, Object> formData = new LinkedHashMap<>();

    if (this.firstName != null) {

      formData.put("first_name", this.firstName);
    }

    if (this.lastName != null) {

      formData.put("last_name", this.lastName);
    }

    if (this.email != null) {

      formData.put("email", this.email);
    }

    if (this.roles != null) {

      formData.put("roles", this.roles);
    }

    if (this.externalUserId != null) {

      formData.put("external_user_id", this.externalUserId);
    }

    if (this.subscriptionId != null) {

      formData.put("subscription_id", this.subscriptionId);
    }

    if (this.customerId != null) {

      formData.put("customer_id", this.customerId);
    }

    if (this.custom != null) {

      formData.put("custom", JsonUtil.toJson(this.custom));
    }

    if (this.requestContext != null) {

      // Single object
      Map<String, Object> nestedData = this.requestContext.toFormData();
      for (Map.Entry<String, Object> entry : nestedData.entrySet()) {
        String nestedKey = "request_context[" + entry.getKey() + "]";
        formData.put(nestedKey, entry.getValue());
      }
    }

    return formData;
  }

  /** Create a new builder for PersonalizedOffersParams. */
  @Recommended(reason = "Preferred for reusability, validation, and LLM-friendliness")
  public static PersonalizedOffersBuilder builder() {
    return new PersonalizedOffersBuilder();
  }

  public static final class PersonalizedOffersBuilder {

    private String firstName;

    private String lastName;

    private String email;

    private List<String> roles;

    private String externalUserId;

    private String subscriptionId;

    private String customerId;

    private java.util.Map<String, Object> custom;

    private RequestContextParams requestContext;

    private PersonalizedOffersBuilder() {}

    public PersonalizedOffersBuilder firstName(String value) {
      this.firstName = value;
      return this;
    }

    public PersonalizedOffersBuilder lastName(String value) {
      this.lastName = value;
      return this;
    }

    public PersonalizedOffersBuilder email(String value) {
      this.email = value;
      return this;
    }

    public PersonalizedOffersBuilder roles(List<String> value) {
      this.roles = value;
      return this;
    }

    public PersonalizedOffersBuilder externalUserId(String value) {
      this.externalUserId = value;
      return this;
    }

    public PersonalizedOffersBuilder subscriptionId(String value) {
      this.subscriptionId = value;
      return this;
    }

    public PersonalizedOffersBuilder customerId(String value) {
      this.customerId = value;
      return this;
    }

    public PersonalizedOffersBuilder custom(java.util.Map<String, Object> value) {
      this.custom = value;
      return this;
    }

    public PersonalizedOffersBuilder requestContext(RequestContextParams value) {
      this.requestContext = value;
      return this;
    }

    public PersonalizedOffersParams build() {
      return new PersonalizedOffersParams(this);
    }
  }

  public static final class RequestContextParams {

    private final String userAgent;

    private final String locale;

    private final String timezone;

    private final String url;

    private final String referrerUrl;

    private RequestContextParams(RequestContextBuilder builder) {

      this.userAgent = builder.userAgent;

      this.locale = builder.locale;

      this.timezone = builder.timezone;

      this.url = builder.url;

      this.referrerUrl = builder.referrerUrl;
    }

    public String getUserAgent() {
      return userAgent;
    }

    public String getLocale() {
      return locale;
    }

    public String getTimezone() {
      return timezone;
    }

    public String getUrl() {
      return url;
    }

    public String getReferrerUrl() {
      return referrerUrl;
    }

    /** Get the form data for this request. */
    public Map<String, Object> toFormData() {
      Map<String, Object> formData = new LinkedHashMap<>();

      if (this.userAgent != null) {

        formData.put("user_agent", this.userAgent);
      }

      if (this.locale != null) {

        formData.put("locale", this.locale);
      }

      if (this.timezone != null) {

        formData.put("timezone", this.timezone);
      }

      if (this.url != null) {

        formData.put("url", this.url);
      }

      if (this.referrerUrl != null) {

        formData.put("referrer_url", this.referrerUrl);
      }

      return formData;
    }

    /** Create a new builder for RequestContextParams. */
    @Recommended(reason = "Preferred for reusability, validation, and LLM-friendliness")
    public static RequestContextBuilder builder() {
      return new RequestContextBuilder();
    }

    public static final class RequestContextBuilder {

      private String userAgent;

      private String locale;

      private String timezone;

      private String url;

      private String referrerUrl;

      private RequestContextBuilder() {}

      public RequestContextBuilder userAgent(String value) {
        this.userAgent = value;
        return this;
      }

      public RequestContextBuilder locale(String value) {
        this.locale = value;
        return this;
      }

      public RequestContextBuilder timezone(String value) {
        this.timezone = value;
        return this;
      }

      public RequestContextBuilder url(String value) {
        this.url = value;
        return this;
      }

      public RequestContextBuilder referrerUrl(String value) {
        this.referrerUrl = value;
        return this;
      }

      public RequestContextParams build() {
        return new RequestContextParams(this);
      }
    }
  }
}
