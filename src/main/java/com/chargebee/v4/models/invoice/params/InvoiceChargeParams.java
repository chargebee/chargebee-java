/*
 * This file is auto-generated by Chargebee.
 * For more information on how to make changes to this file, please see the README.
 * Reach out to dx@chargebee.com for any questions.
 * Copyright 2025 Chargebee Inc.
 */
package com.chargebee.v4.models.invoice.params;

import com.chargebee.v4.internal.Recommended;

import java.util.LinkedHashMap;
import java.util.Map;
import java.util.List;
import java.sql.Timestamp;

public final class InvoiceChargeParams {

  private final String customerId;

  private final String subscriptionId;

  private final String currencyCode;

  private final Long amount;

  private final String amountInDecimal;

  private final String description;

  private final Timestamp dateFrom;

  private final Timestamp dateTo;

  private final List<String> couponIds;

  private final String coupon;

  private final AvalaraSaleType avalaraSaleType;

  private final Integer avalaraTransactionType;

  private final Integer avalaraServiceType;

  private final String poNumber;

  private final Timestamp invoiceDate;

  private final String paymentSourceId;

  private final PaymentInitiator paymentInitiator;

  private final List<TaxProvidersFieldsParams> taxProvidersFields;

  private InvoiceChargeParams(InvoiceChargeBuilder builder) {

    this.customerId = builder.customerId;

    this.subscriptionId = builder.subscriptionId;

    this.currencyCode = builder.currencyCode;

    this.amount = builder.amount;

    this.amountInDecimal = builder.amountInDecimal;

    this.description = builder.description;

    this.dateFrom = builder.dateFrom;

    this.dateTo = builder.dateTo;

    this.couponIds = builder.couponIds;

    this.coupon = builder.coupon;

    this.avalaraSaleType = builder.avalaraSaleType;

    this.avalaraTransactionType = builder.avalaraTransactionType;

    this.avalaraServiceType = builder.avalaraServiceType;

    this.poNumber = builder.poNumber;

    this.invoiceDate = builder.invoiceDate;

    this.paymentSourceId = builder.paymentSourceId;

    this.paymentInitiator = builder.paymentInitiator;

    this.taxProvidersFields = builder.taxProvidersFields;
  }

  public String getCustomerId() {
    return customerId;
  }

  public String getSubscriptionId() {
    return subscriptionId;
  }

  public String getCurrencyCode() {
    return currencyCode;
  }

  public Long getAmount() {
    return amount;
  }

  public String getAmountInDecimal() {
    return amountInDecimal;
  }

  public String getDescription() {
    return description;
  }

  public Timestamp getDateFrom() {
    return dateFrom;
  }

  public Timestamp getDateTo() {
    return dateTo;
  }

  public List<String> getCouponIds() {
    return couponIds;
  }

  public String getCoupon() {
    return coupon;
  }

  public AvalaraSaleType getAvalaraSaleType() {
    return avalaraSaleType;
  }

  public Integer getAvalaraTransactionType() {
    return avalaraTransactionType;
  }

  public Integer getAvalaraServiceType() {
    return avalaraServiceType;
  }

  public String getPoNumber() {
    return poNumber;
  }

  public Timestamp getInvoiceDate() {
    return invoiceDate;
  }

  public String getPaymentSourceId() {
    return paymentSourceId;
  }

  public PaymentInitiator getPaymentInitiator() {
    return paymentInitiator;
  }

  public List<TaxProvidersFieldsParams> getTaxProvidersFields() {
    return taxProvidersFields;
  }

  /** Get the form data for this request. */
  public Map<String, Object> toFormData() {
    Map<String, Object> formData = new LinkedHashMap<>();

    if (this.customerId != null) {

      formData.put("customer_id", this.customerId);
    }

    if (this.subscriptionId != null) {

      formData.put("subscription_id", this.subscriptionId);
    }

    if (this.currencyCode != null) {

      formData.put("currency_code", this.currencyCode);
    }

    if (this.amount != null) {

      formData.put("amount", this.amount);
    }

    if (this.amountInDecimal != null) {

      formData.put("amount_in_decimal", this.amountInDecimal);
    }

    if (this.description != null) {

      formData.put("description", this.description);
    }

    if (this.dateFrom != null) {

      formData.put("date_from", this.dateFrom);
    }

    if (this.dateTo != null) {

      formData.put("date_to", this.dateTo);
    }

    if (this.couponIds != null) {

      formData.put("coupon_ids", this.couponIds);
    }

    if (this.coupon != null) {

      formData.put("coupon", this.coupon);
    }

    if (this.avalaraSaleType != null) {

      formData.put("avalara_sale_type", this.avalaraSaleType);
    }

    if (this.avalaraTransactionType != null) {

      formData.put("avalara_transaction_type", this.avalaraTransactionType);
    }

    if (this.avalaraServiceType != null) {

      formData.put("avalara_service_type", this.avalaraServiceType);
    }

    if (this.poNumber != null) {

      formData.put("po_number", this.poNumber);
    }

    if (this.invoiceDate != null) {

      formData.put("invoice_date", this.invoiceDate);
    }

    if (this.paymentSourceId != null) {

      formData.put("payment_source_id", this.paymentSourceId);
    }

    if (this.paymentInitiator != null) {

      formData.put("payment_initiator", this.paymentInitiator);
    }

    if (this.taxProvidersFields != null) {

      // List of objects
      for (int i = 0; i < this.taxProvidersFields.size(); i++) {
        TaxProvidersFieldsParams item = this.taxProvidersFields.get(i);
        if (item != null) {
          Map<String, Object> itemData = item.toFormData();
          for (Map.Entry<String, Object> entry : itemData.entrySet()) {
            String indexedKey = "tax_providers_fields[" + entry.getKey() + "][" + i + "]";
            formData.put(indexedKey, entry.getValue());
          }
        }
      }
    }

    return formData;
  }

  /** Create a new builder for InvoiceChargeParams. */
  @Recommended(reason = "Preferred for reusability, validation, and LLM-friendliness")
  public static InvoiceChargeBuilder builder() {
    return new InvoiceChargeBuilder();
  }

  public static final class InvoiceChargeBuilder {

    private String customerId;

    private String subscriptionId;

    private String currencyCode;

    private Long amount;

    private String amountInDecimal;

    private String description;

    private Timestamp dateFrom;

    private Timestamp dateTo;

    private List<String> couponIds;

    private String coupon;

    private AvalaraSaleType avalaraSaleType;

    private Integer avalaraTransactionType;

    private Integer avalaraServiceType;

    private String poNumber;

    private Timestamp invoiceDate;

    private String paymentSourceId;

    private PaymentInitiator paymentInitiator;

    private List<TaxProvidersFieldsParams> taxProvidersFields;

    private InvoiceChargeBuilder() {}

    public InvoiceChargeBuilder customerId(String value) {
      this.customerId = value;
      return this;
    }

    public InvoiceChargeBuilder subscriptionId(String value) {
      this.subscriptionId = value;
      return this;
    }

    public InvoiceChargeBuilder currencyCode(String value) {
      this.currencyCode = value;
      return this;
    }

    public InvoiceChargeBuilder amount(Long value) {
      this.amount = value;
      return this;
    }

    public InvoiceChargeBuilder amountInDecimal(String value) {
      this.amountInDecimal = value;
      return this;
    }

    public InvoiceChargeBuilder description(String value) {
      this.description = value;
      return this;
    }

    public InvoiceChargeBuilder dateFrom(Timestamp value) {
      this.dateFrom = value;
      return this;
    }

    public InvoiceChargeBuilder dateTo(Timestamp value) {
      this.dateTo = value;
      return this;
    }

    public InvoiceChargeBuilder couponIds(List<String> value) {
      this.couponIds = value;
      return this;
    }

    @Deprecated
    public InvoiceChargeBuilder coupon(String value) {
      this.coupon = value;
      return this;
    }

    public InvoiceChargeBuilder avalaraSaleType(AvalaraSaleType value) {
      this.avalaraSaleType = value;
      return this;
    }

    public InvoiceChargeBuilder avalaraTransactionType(Integer value) {
      this.avalaraTransactionType = value;
      return this;
    }

    public InvoiceChargeBuilder avalaraServiceType(Integer value) {
      this.avalaraServiceType = value;
      return this;
    }

    public InvoiceChargeBuilder poNumber(String value) {
      this.poNumber = value;
      return this;
    }

    public InvoiceChargeBuilder invoiceDate(Timestamp value) {
      this.invoiceDate = value;
      return this;
    }

    public InvoiceChargeBuilder paymentSourceId(String value) {
      this.paymentSourceId = value;
      return this;
    }

    public InvoiceChargeBuilder paymentInitiator(PaymentInitiator value) {
      this.paymentInitiator = value;
      return this;
    }

    public InvoiceChargeBuilder taxProvidersFields(List<TaxProvidersFieldsParams> value) {
      this.taxProvidersFields = value;
      return this;
    }

    public InvoiceChargeParams build() {
      return new InvoiceChargeParams(this);
    }
  }

  public enum AvalaraSaleType {
    WHOLESALE("wholesale"),

    RETAIL("retail"),

    CONSUMED("consumed"),

    VENDOR_USE("vendor_use"),

    /** An enum member indicating that AvalaraSaleType was instantiated with an unknown value. */
    _UNKNOWN(null);
    private final String value;

    AvalaraSaleType(String value) {
      this.value = value;
    }

    public String getValue() {
      return value;
    }

    public static AvalaraSaleType fromString(String value) {
      if (value == null) return _UNKNOWN;
      for (AvalaraSaleType enumValue : AvalaraSaleType.values()) {
        if (enumValue.value != null && enumValue.value.equals(value)) {
          return enumValue;
        }
      }
      return _UNKNOWN;
    }
  }

  public enum PaymentInitiator {
    CUSTOMER("customer"),

    MERCHANT("merchant"),

    /** An enum member indicating that PaymentInitiator was instantiated with an unknown value. */
    _UNKNOWN(null);
    private final String value;

    PaymentInitiator(String value) {
      this.value = value;
    }

    public String getValue() {
      return value;
    }

    public static PaymentInitiator fromString(String value) {
      if (value == null) return _UNKNOWN;
      for (PaymentInitiator enumValue : PaymentInitiator.values()) {
        if (enumValue.value != null && enumValue.value.equals(value)) {
          return enumValue;
        }
      }
      return _UNKNOWN;
    }
  }

  public static final class TaxProvidersFieldsParams {

    private final String providerName;

    private final String fieldId;

    private final String fieldValue;

    private TaxProvidersFieldsParams(TaxProvidersFieldsBuilder builder) {

      this.providerName = builder.providerName;

      this.fieldId = builder.fieldId;

      this.fieldValue = builder.fieldValue;
    }

    public String getProviderName() {
      return providerName;
    }

    public String getFieldId() {
      return fieldId;
    }

    public String getFieldValue() {
      return fieldValue;
    }

    /** Get the form data for this request. */
    public Map<String, Object> toFormData() {
      Map<String, Object> formData = new LinkedHashMap<>();

      if (this.providerName != null) {

        formData.put("provider_name", this.providerName);
      }

      if (this.fieldId != null) {

        formData.put("field_id", this.fieldId);
      }

      if (this.fieldValue != null) {

        formData.put("field_value", this.fieldValue);
      }

      return formData;
    }

    /** Create a new builder for TaxProvidersFieldsParams. */
    @Recommended(reason = "Preferred for reusability, validation, and LLM-friendliness")
    public static TaxProvidersFieldsBuilder builder() {
      return new TaxProvidersFieldsBuilder();
    }

    public static final class TaxProvidersFieldsBuilder {

      private String providerName;

      private String fieldId;

      private String fieldValue;

      private TaxProvidersFieldsBuilder() {}

      public TaxProvidersFieldsBuilder providerName(String value) {
        this.providerName = value;
        return this;
      }

      public TaxProvidersFieldsBuilder fieldId(String value) {
        this.fieldId = value;
        return this;
      }

      public TaxProvidersFieldsBuilder fieldValue(String value) {
        this.fieldValue = value;
        return this;
      }

      public TaxProvidersFieldsParams build() {
        return new TaxProvidersFieldsParams(this);
      }
    }
  }
}
