/*
 * This file is auto-generated by Chargebee.
 * For more information on how to make changes to this file, please see the README.
 * Reach out to dx@chargebee.com for any questions.
 * Copyright 2025 Chargebee Inc.
 */

package com.chargebee.v4.services;

import com.chargebee.v4.client.ChargebeeClient;
import com.chargebee.v4.client.request.RequestOptions;
import com.chargebee.v4.transport.Response;

import com.chargebee.v4.models.invoice.params.DeleteLineItemsForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RemoveCreditNoteForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RemovePaymentForInvoiceParams;

import com.chargebee.v4.models.invoice.params.StopDunningForInvoiceParams;

import com.chargebee.v4.models.invoice.params.ApplyPaymentsForInvoiceParams;

import com.chargebee.v4.models.invoice.params.ApplyPaymentScheduleSchemeForInvoiceParams;

import com.chargebee.v4.models.invoice.params.VoidInvoiceParams;

import com.chargebee.v4.models.invoice.params.AddChargeForInvoiceParams;

import com.chargebee.v4.models.invoice.params.WriteOffForInvoiceParams;

import com.chargebee.v4.models.invoice.params.AddChargeItemForInvoiceParams;

import com.chargebee.v4.models.invoice.params.PauseDunningForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceListParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateParams;

import com.chargebee.v4.models.invoice.params.CloseForInvoiceParams;

import com.chargebee.v4.models.invoice.params.ApplyCreditsForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceRetrieveParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateForChargeItemParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateForChargeItemsAndChargesParams;

import com.chargebee.v4.models.invoice.params.DeleteImportedForInvoiceParams;

import com.chargebee.v4.models.invoice.params.UpdateDetailsForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoicesForCustomerParams;

import com.chargebee.v4.models.invoice.params.RecordPaymentForInvoiceParams;

import com.chargebee.v4.models.invoice.params.DeleteInvoiceParams;

import com.chargebee.v4.models.invoice.params.ImportInvoiceParams;

import com.chargebee.v4.models.invoice.params.ResumeDunningForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RecordTaxWithheldForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RemoveTaxWithheldForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceListPaymentReferenceNumbersParams;

import com.chargebee.v4.models.invoice.params.CollectPaymentForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RefundForInvoiceParams;

import com.chargebee.v4.models.invoice.params.RecordRefundForInvoiceParams;

import com.chargebee.v4.models.invoice.params.PdfForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoicesForSubscriptionParams;

import com.chargebee.v4.models.invoice.params.InvoiceChargeAddonParams;

import com.chargebee.v4.models.invoice.params.AddAddonChargeForInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceChargeParams;

import com.chargebee.v4.models.invoice.responses.DeleteLineItemsForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RemoveCreditNoteForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RemovePaymentForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.StopDunningForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ApplyPaymentsForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ApplyPaymentScheduleSchemeForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.VoidInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.AddChargeForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.SendEinvoiceForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.PaymentSchedulesForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.WriteOffForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.AddChargeItemForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.PauseDunningForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceListResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateResponse;

import com.chargebee.v4.models.invoice.responses.CloseForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ApplyCreditsForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRetrieveResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateForChargeItemResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateForChargeItemsAndChargesResponse;

import com.chargebee.v4.models.invoice.responses.DeleteImportedForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.UpdateDetailsForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoicesForCustomerResponse;

import com.chargebee.v4.models.invoice.responses.RecordPaymentForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.DeleteInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ImportInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ResumeDunningForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RecordTaxWithheldForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.ResendEinvoiceForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RemoveTaxWithheldForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceListPaymentReferenceNumbersResponse;

import com.chargebee.v4.models.invoice.responses.CollectPaymentForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.SyncUsagesForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RefundForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.RecordRefundForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.PdfForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoicesForSubscriptionResponse;

import com.chargebee.v4.models.invoice.responses.DownloadEinvoiceForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceChargeAddonResponse;

import com.chargebee.v4.models.invoice.responses.AddAddonChargeForInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceChargeResponse;

public final class InvoiceService extends BaseService<InvoiceService> {

  private final ServiceConfig config;

  public InvoiceService(ChargebeeClient client) {
    super(client);
    this.config = ServiceConfig.defaultConfig();
  }

  private InvoiceService(ChargebeeClient client, RequestOptions options) {
    super(client, options);
    this.config = ServiceConfig.defaultConfig();
  }

  private InvoiceService(ChargebeeClient client, RequestOptions options, ServiceConfig config) {
    super(client, options);
    this.config = config;
  }

  @Override
  InvoiceService with(RequestOptions newOptions) {
    return new InvoiceService(client, newOptions, config);
  }

  /**
   * Apply per-request options for this service instance. Users can chain .withOptions or .options
   * to set headers and other options.
   */
  public InvoiceService withOptions(RequestOptions options) {
    return with(options);
  }

  // === Operations ===

  /** deleteLineItemsForInvoice a invoice (executes immediately) - returns raw Response. */
  Response deleteLineItemsForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * deleteLineItemsForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response deleteLineItemsForInvoiceRaw(String invoiceId, DeleteLineItemsForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * deleteLineItemsForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response deleteLineItemsForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public DeleteLineItemsForInvoiceResponse deleteLineItemsForInvoice(
      String invoiceId, DeleteLineItemsForInvoiceParams params) throws Exception {
    Response response = deleteLineItemsForInvoiceRaw(invoiceId, params);
    return DeleteLineItemsForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removeCreditNoteForInvoice a invoice (executes immediately) - returns raw Response. */
  Response removeCreditNoteForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removeCreditNoteForInvoice a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response removeCreditNoteForInvoiceRaw(String invoiceId, RemoveCreditNoteForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removeCreditNoteForInvoice a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response removeCreditNoteForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RemoveCreditNoteForInvoiceResponse removeCreditNoteForInvoice(
      String invoiceId, RemoveCreditNoteForInvoiceParams params) throws Exception {
    Response response = removeCreditNoteForInvoiceRaw(invoiceId, params);
    return RemoveCreditNoteForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removePaymentForInvoice a invoice (executes immediately) - returns raw Response. */
  Response removePaymentForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removePaymentForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response removePaymentForInvoiceRaw(String invoiceId, RemovePaymentForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removePaymentForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response removePaymentForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RemovePaymentForInvoiceResponse removePaymentForInvoice(
      String invoiceId, RemovePaymentForInvoiceParams params) throws Exception {
    Response response = removePaymentForInvoiceRaw(invoiceId, params);
    return RemovePaymentForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** stopDunningForInvoice a invoice (executes immediately) - returns raw Response. */
  Response stopDunningForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * stopDunningForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response stopDunningForInvoiceRaw(String invoiceId, StopDunningForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * stopDunningForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response stopDunningForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public StopDunningForInvoiceResponse stopDunningForInvoice(
      String invoiceId, StopDunningForInvoiceParams params) throws Exception {
    Response response = stopDunningForInvoiceRaw(invoiceId, params);
    return StopDunningForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** applyPaymentsForInvoice a invoice (executes immediately) - returns raw Response. */
  Response applyPaymentsForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyPaymentsForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response applyPaymentsForInvoiceRaw(String invoiceId, ApplyPaymentsForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyPaymentsForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response applyPaymentsForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public ApplyPaymentsForInvoiceResponse applyPaymentsForInvoice(
      String invoiceId, ApplyPaymentsForInvoiceParams params) throws Exception {
    Response response = applyPaymentsForInvoiceRaw(invoiceId, params);
    return ApplyPaymentsForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * applyPaymentScheduleSchemeForInvoice a invoice (executes immediately) - returns raw Response.
   */
  Response applyPaymentScheduleSchemeForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyPaymentScheduleSchemeForInvoice a invoice using immutable params (executes immediately) -
   * returns raw Response.
   */
  Response applyPaymentScheduleSchemeForInvoiceRaw(
      String invoiceId, ApplyPaymentScheduleSchemeForInvoiceParams params) throws Exception {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyPaymentScheduleSchemeForInvoice a invoice using raw JSON payload (executes immediately) -
   * returns raw Response.
   */
  Response applyPaymentScheduleSchemeForInvoiceRaw(String invoiceId, String jsonPayload)
      throws Exception {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public ApplyPaymentScheduleSchemeForInvoiceResponse applyPaymentScheduleSchemeForInvoice(
      String invoiceId, ApplyPaymentScheduleSchemeForInvoiceParams params) throws Exception {
    Response response = applyPaymentScheduleSchemeForInvoiceRaw(invoiceId, params);
    return ApplyPaymentScheduleSchemeForInvoiceResponse.fromJson(
        response.getBodyAsString(), response);
  }

  /** voidInvoice a invoice (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** voidInvoice a invoice using immutable params (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId, VoidInvoiceParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** voidInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public VoidInvoiceResponse voidInvoice(String invoiceId, VoidInvoiceParams params)
      throws Exception {
    Response response = voidInvoiceRaw(invoiceId, params);
    return VoidInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addChargeForInvoice a invoice (executes immediately) - returns raw Response. */
  Response addChargeForInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * addChargeForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response addChargeForInvoiceRaw(String invoiceId, AddChargeForInvoiceParams params)
      throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * addChargeForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response addChargeForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public AddChargeForInvoiceResponse addChargeForInvoice(
      String invoiceId, AddChargeForInvoiceParams params) throws Exception {
    Response response = addChargeForInvoiceRaw(invoiceId, params);
    return AddChargeForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** sendEinvoiceForInvoice a invoice (executes immediately) - returns raw Response. */
  Response sendEinvoiceForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/send_einvoice", "invoice-id", invoiceId);

    return post(path, null);
  }

  public SendEinvoiceForInvoiceResponse sendEinvoiceForInvoice(String invoiceId) throws Exception {
    Response response = sendEinvoiceForInvoiceRaw(invoiceId);
    return SendEinvoiceForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** paymentSchedulesForInvoice a invoice (executes immediately) - returns raw Response. */
  Response paymentSchedulesForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/payment_schedules", "invoice-id", invoiceId);

    return get(path, null);
  }

  public PaymentSchedulesForInvoiceResponse paymentSchedulesForInvoice(String invoiceId)
      throws Exception {
    Response response = paymentSchedulesForInvoiceRaw(invoiceId);
    return PaymentSchedulesForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** writeOffForInvoice a invoice (executes immediately) - returns raw Response. */
  Response writeOffForInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * writeOffForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response writeOffForInvoiceRaw(String invoiceId, WriteOffForInvoiceParams params)
      throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * writeOffForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response writeOffForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public WriteOffForInvoiceResponse writeOffForInvoice(
      String invoiceId, WriteOffForInvoiceParams params) throws Exception {
    Response response = writeOffForInvoiceRaw(invoiceId, params);
    return WriteOffForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addChargeItemForInvoice a invoice (executes immediately) - returns raw Response. */
  Response addChargeItemForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * addChargeItemForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response addChargeItemForInvoiceRaw(String invoiceId, AddChargeItemForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * addChargeItemForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response addChargeItemForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public AddChargeItemForInvoiceResponse addChargeItemForInvoice(
      String invoiceId, AddChargeItemForInvoiceParams params) throws Exception {
    Response response = addChargeItemForInvoiceRaw(invoiceId, params);
    return AddChargeItemForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** pauseDunningForInvoice a invoice (executes immediately) - returns raw Response. */
  Response pauseDunningForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * pauseDunningForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response pauseDunningForInvoiceRaw(String invoiceId, PauseDunningForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * pauseDunningForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response pauseDunningForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public PauseDunningForInvoiceResponse pauseDunningForInvoice(
      String invoiceId, PauseDunningForInvoiceParams params) throws Exception {
    Response response = pauseDunningForInvoiceRaw(invoiceId, params);
    return PauseDunningForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** list a invoice using immutable params (executes immediately) - returns raw Response. */
  Response listRaw(InvoiceListParams params) throws Exception {

    return get("/invoices", params != null ? params.toQueryParams() : null);
  }

  /** list a invoice without params (executes immediately) - returns raw Response. */
  Response listRaw() throws Exception {

    return get("/invoices", null);
  }

  /** list a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response listRaw(String jsonPayload) throws Exception {

    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoiceListResponse list(InvoiceListParams params) throws Exception {
    Response response = listRaw(params);

    return InvoiceListResponse.fromJson(response.getBodyAsString(), this, params, response);
  }

  public InvoiceListResponse list() throws Exception {
    Response response = listRaw();
    return InvoiceListResponse.fromJson(response.getBodyAsString(), this, null, response);
  }

  /** create a invoice using immutable params (executes immediately) - returns raw Response. */
  Response createRaw(InvoiceCreateParams params) throws Exception {

    return post("/invoices", params != null ? params.toFormData() : null);
  }

  /** create a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response createRaw(String jsonPayload) throws Exception {

    return postJson("/invoices", jsonPayload);
  }

  public InvoiceCreateResponse create(InvoiceCreateParams params) throws Exception {
    Response response = createRaw(params);

    return InvoiceCreateResponse.fromJson(response.getBodyAsString(), response);
  }

  /** closeForInvoice a invoice (executes immediately) - returns raw Response. */
  Response closeForInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * closeForInvoice a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response closeForInvoiceRaw(String invoiceId, CloseForInvoiceParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * closeForInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response closeForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public CloseForInvoiceResponse closeForInvoice(String invoiceId, CloseForInvoiceParams params)
      throws Exception {
    Response response = closeForInvoiceRaw(invoiceId, params);
    return CloseForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** applyCreditsForInvoice a invoice (executes immediately) - returns raw Response. */
  Response applyCreditsForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyCreditsForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response applyCreditsForInvoiceRaw(String invoiceId, ApplyCreditsForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyCreditsForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response applyCreditsForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public ApplyCreditsForInvoiceResponse applyCreditsForInvoice(
      String invoiceId, ApplyCreditsForInvoiceParams params) throws Exception {
    Response response = applyCreditsForInvoiceRaw(invoiceId, params);
    return ApplyCreditsForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** retrieve a invoice (executes immediately) - returns raw Response. */
  Response retrieveRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}", "invoice-id", invoiceId);

    return get(path, null);
  }

  /** retrieve a invoice using immutable params (executes immediately) - returns raw Response. */
  Response retrieveRaw(String invoiceId, InvoiceRetrieveParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}", "invoice-id", invoiceId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  public InvoiceRetrieveResponse retrieve(String invoiceId, InvoiceRetrieveParams params)
      throws Exception {
    Response response = retrieveRaw(invoiceId, params);
    return InvoiceRetrieveResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRetrieveResponse retrieve(String invoiceId) throws Exception {
    Response response = retrieveRaw(invoiceId);
    return InvoiceRetrieveResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * createForChargeItem a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response createForChargeItemRaw(InvoiceCreateForChargeItemParams params) throws Exception {

    return post("/invoices/create_for_charge_item", params != null ? params.toFormData() : null);
  }

  /**
   * createForChargeItem a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response createForChargeItemRaw(String jsonPayload) throws Exception {

    return postJson("/invoices/create_for_charge_item", jsonPayload);
  }

  public InvoiceCreateForChargeItemResponse createForChargeItem(
      InvoiceCreateForChargeItemParams params) throws Exception {
    Response response = createForChargeItemRaw(params);

    return InvoiceCreateForChargeItemResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * createForChargeItemsAndCharges a invoice using immutable params (executes immediately) -
   * returns raw Response.
   */
  Response createForChargeItemsAndChargesRaw(InvoiceCreateForChargeItemsAndChargesParams params)
      throws Exception {

    return post(
        "/invoices/create_for_charge_items_and_charges",
        params != null ? params.toFormData() : null);
  }

  /**
   * createForChargeItemsAndCharges a invoice using raw JSON payload (executes immediately) -
   * returns raw Response.
   */
  Response createForChargeItemsAndChargesRaw(String jsonPayload) throws Exception {

    return postJson("/invoices/create_for_charge_items_and_charges", jsonPayload);
  }

  public InvoiceCreateForChargeItemsAndChargesResponse createForChargeItemsAndCharges(
      InvoiceCreateForChargeItemsAndChargesParams params) throws Exception {
    Response response = createForChargeItemsAndChargesRaw(params);

    return InvoiceCreateForChargeItemsAndChargesResponse.fromJson(
        response.getBodyAsString(), response);
  }

  /** deleteImportedForInvoice a invoice (executes immediately) - returns raw Response. */
  Response deleteImportedForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * deleteImportedForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response deleteImportedForInvoiceRaw(String invoiceId, DeleteImportedForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * deleteImportedForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response deleteImportedForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public DeleteImportedForInvoiceResponse deleteImportedForInvoice(
      String invoiceId, DeleteImportedForInvoiceParams params) throws Exception {
    Response response = deleteImportedForInvoiceRaw(invoiceId, params);
    return DeleteImportedForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** updateDetailsForInvoice a invoice (executes immediately) - returns raw Response. */
  Response updateDetailsForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * updateDetailsForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response updateDetailsForInvoiceRaw(String invoiceId, UpdateDetailsForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * updateDetailsForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response updateDetailsForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public UpdateDetailsForInvoiceResponse updateDetailsForInvoice(
      String invoiceId, UpdateDetailsForInvoiceParams params) throws Exception {
    Response response = updateDetailsForInvoiceRaw(invoiceId, params);
    return UpdateDetailsForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * invoicesForCustomer a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForCustomerRaw(String customerId, InvoicesForCustomerParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /** invoicesForCustomer a invoice without params (executes immediately) - returns raw Response. */
  Response invoicesForCustomerRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    return get(path, null);
  }

  /**
   * invoicesForCustomer a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForCustomerRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoicesForCustomerResponse invoicesForCustomer(
      String customerId, InvoicesForCustomerParams params) throws Exception {
    Response response = invoicesForCustomerRaw(customerId, params);
    return InvoicesForCustomerResponse.fromJson(
        response.getBodyAsString(), this, params, customerId, response);
  }

  public InvoicesForCustomerResponse invoicesForCustomer(String customerId) throws Exception {
    Response response = invoicesForCustomerRaw(customerId);
    return InvoicesForCustomerResponse.fromJson(
        response.getBodyAsString(), this, null, customerId, response);
  }

  /** recordPaymentForInvoice a invoice (executes immediately) - returns raw Response. */
  Response recordPaymentForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordPaymentForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response recordPaymentForInvoiceRaw(String invoiceId, RecordPaymentForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordPaymentForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response recordPaymentForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RecordPaymentForInvoiceResponse recordPaymentForInvoice(
      String invoiceId, RecordPaymentForInvoiceParams params) throws Exception {
    Response response = recordPaymentForInvoiceRaw(invoiceId, params);
    return RecordPaymentForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** deleteInvoice a invoice (executes immediately) - returns raw Response. */
  Response deleteInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * deleteInvoice a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response deleteInvoiceRaw(String invoiceId, DeleteInvoiceParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * deleteInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response deleteInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public DeleteInvoiceResponse deleteInvoice(String invoiceId, DeleteInvoiceParams params)
      throws Exception {
    Response response = deleteInvoiceRaw(invoiceId, params);
    return DeleteInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * importInvoice a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response importInvoiceRaw(ImportInvoiceParams params) throws Exception {

    return post("/invoices/import_invoice", params != null ? params.toFormData() : null);
  }

  /**
   * importInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response importInvoiceRaw(String jsonPayload) throws Exception {

    return postJson("/invoices/import_invoice", jsonPayload);
  }

  public ImportInvoiceResponse importInvoice(ImportInvoiceParams params) throws Exception {
    Response response = importInvoiceRaw(params);

    return ImportInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** resumeDunningForInvoice a invoice (executes immediately) - returns raw Response. */
  Response resumeDunningForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * resumeDunningForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response resumeDunningForInvoiceRaw(String invoiceId, ResumeDunningForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * resumeDunningForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response resumeDunningForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public ResumeDunningForInvoiceResponse resumeDunningForInvoice(
      String invoiceId, ResumeDunningForInvoiceParams params) throws Exception {
    Response response = resumeDunningForInvoiceRaw(invoiceId, params);
    return ResumeDunningForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** recordTaxWithheldForInvoice a invoice (executes immediately) - returns raw Response. */
  Response recordTaxWithheldForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordTaxWithheldForInvoice a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response recordTaxWithheldForInvoiceRaw(
      String invoiceId, RecordTaxWithheldForInvoiceParams params) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordTaxWithheldForInvoice a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response recordTaxWithheldForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RecordTaxWithheldForInvoiceResponse recordTaxWithheldForInvoice(
      String invoiceId, RecordTaxWithheldForInvoiceParams params) throws Exception {
    Response response = recordTaxWithheldForInvoiceRaw(invoiceId, params);
    return RecordTaxWithheldForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** resendEinvoiceForInvoice a invoice (executes immediately) - returns raw Response. */
  Response resendEinvoiceForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resend_einvoice", "invoice-id", invoiceId);

    return post(path, null);
  }

  public ResendEinvoiceForInvoiceResponse resendEinvoiceForInvoice(String invoiceId)
      throws Exception {
    Response response = resendEinvoiceForInvoiceRaw(invoiceId);
    return ResendEinvoiceForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removeTaxWithheldForInvoice a invoice (executes immediately) - returns raw Response. */
  Response removeTaxWithheldForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removeTaxWithheldForInvoice a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response removeTaxWithheldForInvoiceRaw(
      String invoiceId, RemoveTaxWithheldForInvoiceParams params) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removeTaxWithheldForInvoice a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response removeTaxWithheldForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RemoveTaxWithheldForInvoiceResponse removeTaxWithheldForInvoice(
      String invoiceId, RemoveTaxWithheldForInvoiceParams params) throws Exception {
    Response response = removeTaxWithheldForInvoiceRaw(invoiceId, params);
    return RemoveTaxWithheldForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * listPaymentReferenceNumbers a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response listPaymentReferenceNumbersRaw(InvoiceListPaymentReferenceNumbersParams params)
      throws Exception {

    return get(
        "/invoices/payment_reference_numbers", params != null ? params.toQueryParams() : null);
  }

  /**
   * listPaymentReferenceNumbers a invoice without params (executes immediately) - returns raw
   * Response.
   */
  Response listPaymentReferenceNumbersRaw() throws Exception {

    return get("/invoices/payment_reference_numbers", null);
  }

  /**
   * listPaymentReferenceNumbers a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response listPaymentReferenceNumbersRaw(String jsonPayload) throws Exception {

    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoiceListPaymentReferenceNumbersResponse listPaymentReferenceNumbers(
      InvoiceListPaymentReferenceNumbersParams params) throws Exception {
    Response response = listPaymentReferenceNumbersRaw(params);

    return InvoiceListPaymentReferenceNumbersResponse.fromJson(
        response.getBodyAsString(), this, params, response);
  }

  public InvoiceListPaymentReferenceNumbersResponse listPaymentReferenceNumbers() throws Exception {
    Response response = listPaymentReferenceNumbersRaw();
    return InvoiceListPaymentReferenceNumbersResponse.fromJson(
        response.getBodyAsString(), this, null, response);
  }

  /** collectPaymentForInvoice a invoice (executes immediately) - returns raw Response. */
  Response collectPaymentForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * collectPaymentForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response collectPaymentForInvoiceRaw(String invoiceId, CollectPaymentForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * collectPaymentForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response collectPaymentForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public CollectPaymentForInvoiceResponse collectPaymentForInvoice(
      String invoiceId, CollectPaymentForInvoiceParams params) throws Exception {
    Response response = collectPaymentForInvoiceRaw(invoiceId, params);
    return CollectPaymentForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** syncUsagesForInvoice a invoice (executes immediately) - returns raw Response. */
  Response syncUsagesForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/sync_usages", "invoice-id", invoiceId);

    return post(path, null);
  }

  public SyncUsagesForInvoiceResponse syncUsagesForInvoice(String invoiceId) throws Exception {
    Response response = syncUsagesForInvoiceRaw(invoiceId);
    return SyncUsagesForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** refundForInvoice a invoice (executes immediately) - returns raw Response. */
  Response refundForInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * refundForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response refundForInvoiceRaw(String invoiceId, RefundForInvoiceParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * refundForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response refundForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RefundForInvoiceResponse refundForInvoice(String invoiceId, RefundForInvoiceParams params)
      throws Exception {
    Response response = refundForInvoiceRaw(invoiceId, params);
    return RefundForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** recordRefundForInvoice a invoice (executes immediately) - returns raw Response. */
  Response recordRefundForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordRefundForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response recordRefundForInvoiceRaw(String invoiceId, RecordRefundForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordRefundForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response recordRefundForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public RecordRefundForInvoiceResponse recordRefundForInvoice(
      String invoiceId, RecordRefundForInvoiceParams params) throws Exception {
    Response response = recordRefundForInvoiceRaw(invoiceId, params);
    return RecordRefundForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** pdfForInvoice a invoice (executes immediately) - returns raw Response. */
  Response pdfForInvoiceRaw(String invoiceId) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * pdfForInvoice a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response pdfForInvoiceRaw(String invoiceId, PdfForInvoiceParams params) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * pdfForInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response pdfForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public PdfForInvoiceResponse pdfForInvoice(String invoiceId, PdfForInvoiceParams params)
      throws Exception {
    Response response = pdfForInvoiceRaw(invoiceId, params);
    return PdfForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * invoicesForSubscription a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId, InvoicesForSubscriptionParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /**
   * invoicesForSubscription a invoice without params (executes immediately) - returns raw Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId) throws Exception {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    return get(path, null);
  }

  /**
   * invoicesForSubscription a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoicesForSubscriptionResponse invoicesForSubscription(
      String subscriptionId, InvoicesForSubscriptionParams params) throws Exception {
    Response response = invoicesForSubscriptionRaw(subscriptionId, params);
    return InvoicesForSubscriptionResponse.fromJson(
        response.getBodyAsString(), this, params, subscriptionId, response);
  }

  public InvoicesForSubscriptionResponse invoicesForSubscription(String subscriptionId)
      throws Exception {
    Response response = invoicesForSubscriptionRaw(subscriptionId);
    return InvoicesForSubscriptionResponse.fromJson(
        response.getBodyAsString(), this, null, subscriptionId, response);
  }

  /** downloadEinvoiceForInvoice a invoice (executes immediately) - returns raw Response. */
  Response downloadEinvoiceForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/download_einvoice", "invoice-id", invoiceId);

    return get(path, null);
  }

  public DownloadEinvoiceForInvoiceResponse downloadEinvoiceForInvoice(String invoiceId)
      throws Exception {
    Response response = downloadEinvoiceForInvoiceRaw(invoiceId);
    return DownloadEinvoiceForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** chargeAddon a invoice using immutable params (executes immediately) - returns raw Response. */
  Response chargeAddonRaw(InvoiceChargeAddonParams params) throws Exception {

    return post("/invoices/charge_addon", params != null ? params.toFormData() : null);
  }

  /** chargeAddon a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response chargeAddonRaw(String jsonPayload) throws Exception {

    return postJson("/invoices/charge_addon", jsonPayload);
  }

  public InvoiceChargeAddonResponse chargeAddon(InvoiceChargeAddonParams params) throws Exception {
    Response response = chargeAddonRaw(params);

    return InvoiceChargeAddonResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addAddonChargeForInvoice a invoice (executes immediately) - returns raw Response. */
  Response addAddonChargeForInvoiceRaw(String invoiceId) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * addAddonChargeForInvoice a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response addAddonChargeForInvoiceRaw(String invoiceId, AddAddonChargeForInvoiceParams params)
      throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * addAddonChargeForInvoice a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response addAddonChargeForInvoiceRaw(String invoiceId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public AddAddonChargeForInvoiceResponse addAddonChargeForInvoice(
      String invoiceId, AddAddonChargeForInvoiceParams params) throws Exception {
    Response response = addAddonChargeForInvoiceRaw(invoiceId, params);
    return AddAddonChargeForInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** charge a invoice using immutable params (executes immediately) - returns raw Response. */
  Response chargeRaw(InvoiceChargeParams params) throws Exception {

    return post("/invoices/charge", params != null ? params.toFormData() : null);
  }

  /** charge a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response chargeRaw(String jsonPayload) throws Exception {

    return postJson("/invoices/charge", jsonPayload);
  }

  public InvoiceChargeResponse charge(InvoiceChargeParams params) throws Exception {
    Response response = chargeRaw(params);

    return InvoiceChargeResponse.fromJson(response.getBodyAsString(), response);
  }
}
