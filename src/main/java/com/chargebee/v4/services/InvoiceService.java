/*
 * This file is auto-generated by Chargebee.
 * For more information on how to make changes to this file, please see the README.
 * Reach out to dx@chargebee.com for any questions.
 * Copyright 2025 Chargebee Inc.
 */

package com.chargebee.v4.services;

import com.chargebee.v4.client.ChargebeeClient;
import com.chargebee.v4.client.request.RequestOptions;
import com.chargebee.v4.exceptions.ChargebeeException;
import com.chargebee.v4.transport.Response;

import com.chargebee.v4.models.invoice.params.InvoiceDeleteLineItemsParams;

import com.chargebee.v4.models.invoice.params.InvoiceRemoveCreditNoteParams;

import com.chargebee.v4.models.invoice.params.InvoiceRemovePaymentParams;

import com.chargebee.v4.models.invoice.params.InvoiceStopDunningParams;

import com.chargebee.v4.models.invoice.params.InvoiceApplyPaymentsParams;

import com.chargebee.v4.models.invoice.params.InvoiceApplyPaymentScheduleSchemeParams;

import com.chargebee.v4.models.invoice.params.VoidInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceAddChargeParams;

import com.chargebee.v4.models.invoice.params.InvoiceWriteOffParams;

import com.chargebee.v4.models.invoice.params.InvoiceAddChargeItemParams;

import com.chargebee.v4.models.invoice.params.InvoicePauseDunningParams;

import com.chargebee.v4.models.invoice.params.InvoiceListParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateParams;

import com.chargebee.v4.models.invoice.params.InvoiceCloseParams;

import com.chargebee.v4.models.invoice.params.InvoiceApplyCreditsParams;

import com.chargebee.v4.models.invoice.params.InvoiceRetrieveParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateForChargeItemParams;

import com.chargebee.v4.models.invoice.params.InvoiceCreateForChargeItemsAndChargesParams;

import com.chargebee.v4.models.invoice.params.InvoiceDeleteImportedParams;

import com.chargebee.v4.models.invoice.params.InvoiceUpdateDetailsParams;

import com.chargebee.v4.models.invoice.params.InvoicesForCustomerParams;

import com.chargebee.v4.models.invoice.params.InvoiceRecordPaymentParams;

import com.chargebee.v4.models.invoice.params.InvoiceDeleteParams;

import com.chargebee.v4.models.invoice.params.ImportInvoiceParams;

import com.chargebee.v4.models.invoice.params.InvoiceResumeDunningParams;

import com.chargebee.v4.models.invoice.params.InvoiceRecordTaxWithheldParams;

import com.chargebee.v4.models.invoice.params.InvoiceRemoveTaxWithheldParams;

import com.chargebee.v4.models.invoice.params.InvoiceListPaymentReferenceNumbersParams;

import com.chargebee.v4.models.invoice.params.InvoiceCollectPaymentParams;

import com.chargebee.v4.models.invoice.params.InvoiceRefundParams;

import com.chargebee.v4.models.invoice.params.InvoiceRecordRefundParams;

import com.chargebee.v4.models.invoice.params.InvoicePdfParams;

import com.chargebee.v4.models.invoice.params.InvoicesForSubscriptionParams;

import com.chargebee.v4.models.invoice.params.InvoiceChargeAddonParams;

import com.chargebee.v4.models.invoice.params.InvoiceAddAddonChargeParams;

import com.chargebee.v4.models.invoice.params.InvoiceChargeParams;

import com.chargebee.v4.models.invoice.responses.InvoiceDeleteLineItemsResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRemoveCreditNoteResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRemovePaymentResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceStopDunningResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceApplyPaymentsResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceApplyPaymentScheduleSchemeResponse;

import com.chargebee.v4.models.invoice.responses.VoidInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceAddChargeResponse;

import com.chargebee.v4.models.invoice.responses.SendEinvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoicePaymentSchedulesResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceWriteOffResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceAddChargeItemResponse;

import com.chargebee.v4.models.invoice.responses.InvoicePauseDunningResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceListResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCloseResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceApplyCreditsResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRetrieveResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateForChargeItemResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCreateForChargeItemsAndChargesResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceDeleteImportedResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceUpdateDetailsResponse;

import com.chargebee.v4.models.invoice.responses.InvoicesForCustomerResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRecordPaymentResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceDeleteResponse;

import com.chargebee.v4.models.invoice.responses.ImportInvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceResumeDunningResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRecordTaxWithheldResponse;

import com.chargebee.v4.models.invoice.responses.ResendEinvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRemoveTaxWithheldResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceListPaymentReferenceNumbersResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceCollectPaymentResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceSyncUsagesResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRefundResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceRecordRefundResponse;

import com.chargebee.v4.models.invoice.responses.InvoicePdfResponse;

import com.chargebee.v4.models.invoice.responses.InvoicesForSubscriptionResponse;

import com.chargebee.v4.models.invoice.responses.DownloadEinvoiceResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceChargeAddonResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceAddAddonChargeResponse;

import com.chargebee.v4.models.invoice.responses.InvoiceChargeResponse;

public final class InvoiceService extends BaseService<InvoiceService> {

  private final ServiceConfig config;

  public InvoiceService(ChargebeeClient client) {
    super(client);
    this.config = ServiceConfig.defaultConfig();
  }

  private InvoiceService(ChargebeeClient client, RequestOptions options) {
    super(client, options);
    this.config = ServiceConfig.defaultConfig();
  }

  private InvoiceService(ChargebeeClient client, RequestOptions options, ServiceConfig config) {
    super(client, options);
    this.config = config;
  }

  @Override
  InvoiceService with(RequestOptions newOptions) {
    return new InvoiceService(client, newOptions, config);
  }

  /**
   * Apply per-request options for this service instance. Users can chain .withOptions or .options
   * to set headers and other options.
   */
  public InvoiceService withOptions(RequestOptions options) {
    return with(options);
  }

  // === Operations ===

  /** deleteLineItems a invoice (executes immediately) - returns raw Response. */
  Response deleteLineItemsRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * deleteLineItems a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response deleteLineItemsRaw(String invoiceId, InvoiceDeleteLineItemsParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * deleteLineItems a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response deleteLineItemsRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_line_items", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceDeleteLineItemsResponse deleteLineItems(
      String invoiceId, InvoiceDeleteLineItemsParams params) throws ChargebeeException {
    Response response = deleteLineItemsRaw(invoiceId, params);
    return InvoiceDeleteLineItemsResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceDeleteLineItemsResponse deleteLineItems(String invoiceId)
      throws ChargebeeException {
    Response response = deleteLineItemsRaw(invoiceId);
    return InvoiceDeleteLineItemsResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removeCreditNote a invoice (executes immediately) - returns raw Response. */
  Response removeCreditNoteRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removeCreditNote a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response removeCreditNoteRaw(String invoiceId, InvoiceRemoveCreditNoteParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removeCreditNote a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response removeCreditNoteRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_credit_note", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRemoveCreditNoteResponse removeCreditNote(
      String invoiceId, InvoiceRemoveCreditNoteParams params) throws ChargebeeException {
    Response response = removeCreditNoteRaw(invoiceId, params);
    return InvoiceRemoveCreditNoteResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRemoveCreditNoteResponse removeCreditNote(String invoiceId)
      throws ChargebeeException {
    Response response = removeCreditNoteRaw(invoiceId);
    return InvoiceRemoveCreditNoteResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removePayment a invoice (executes immediately) - returns raw Response. */
  Response removePaymentRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removePayment a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response removePaymentRaw(String invoiceId, InvoiceRemovePaymentParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removePayment a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response removePaymentRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRemovePaymentResponse removePayment(
      String invoiceId, InvoiceRemovePaymentParams params) throws ChargebeeException {
    Response response = removePaymentRaw(invoiceId, params);
    return InvoiceRemovePaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRemovePaymentResponse removePayment(String invoiceId) throws ChargebeeException {
    Response response = removePaymentRaw(invoiceId);
    return InvoiceRemovePaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  /** stopDunning a invoice (executes immediately) - returns raw Response. */
  Response stopDunningRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** stopDunning a invoice using immutable params (executes immediately) - returns raw Response. */
  Response stopDunningRaw(String invoiceId, InvoiceStopDunningParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** stopDunning a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response stopDunningRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/stop_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceStopDunningResponse stopDunning(String invoiceId, InvoiceStopDunningParams params)
      throws ChargebeeException {
    Response response = stopDunningRaw(invoiceId, params);
    return InvoiceStopDunningResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceStopDunningResponse stopDunning(String invoiceId) throws ChargebeeException {
    Response response = stopDunningRaw(invoiceId);
    return InvoiceStopDunningResponse.fromJson(response.getBodyAsString(), response);
  }

  /** applyPayments a invoice (executes immediately) - returns raw Response. */
  Response applyPaymentsRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyPayments a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response applyPaymentsRaw(String invoiceId, InvoiceApplyPaymentsParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyPayments a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response applyPaymentsRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_payments", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceApplyPaymentsResponse applyPayments(
      String invoiceId, InvoiceApplyPaymentsParams params) throws ChargebeeException {
    Response response = applyPaymentsRaw(invoiceId, params);
    return InvoiceApplyPaymentsResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceApplyPaymentsResponse applyPayments(String invoiceId) throws ChargebeeException {
    Response response = applyPaymentsRaw(invoiceId);
    return InvoiceApplyPaymentsResponse.fromJson(response.getBodyAsString(), response);
  }

  /** applyPaymentScheduleScheme a invoice (executes immediately) - returns raw Response. */
  Response applyPaymentScheduleSchemeRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyPaymentScheduleScheme a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response applyPaymentScheduleSchemeRaw(
      String invoiceId, InvoiceApplyPaymentScheduleSchemeParams params) throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyPaymentScheduleScheme a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response applyPaymentScheduleSchemeRaw(String invoiceId, String jsonPayload)
      throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/invoices/{invoice-id}/apply_payment_schedule_scheme", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceApplyPaymentScheduleSchemeResponse applyPaymentScheduleScheme(
      String invoiceId, InvoiceApplyPaymentScheduleSchemeParams params) throws ChargebeeException {
    Response response = applyPaymentScheduleSchemeRaw(invoiceId, params);
    return InvoiceApplyPaymentScheduleSchemeResponse.fromJson(response.getBodyAsString(), response);
  }

  /** voidInvoice a invoice (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** voidInvoice a invoice using immutable params (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId, VoidInvoiceParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** voidInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response voidInvoiceRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/void", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public VoidInvoiceResponse voidInvoice(String invoiceId, VoidInvoiceParams params)
      throws ChargebeeException {
    Response response = voidInvoiceRaw(invoiceId, params);
    return VoidInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  public VoidInvoiceResponse voidInvoice(String invoiceId) throws ChargebeeException {
    Response response = voidInvoiceRaw(invoiceId);
    return VoidInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addCharge a invoice (executes immediately) - returns raw Response. */
  Response addChargeRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** addCharge a invoice using immutable params (executes immediately) - returns raw Response. */
  Response addChargeRaw(String invoiceId, InvoiceAddChargeParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** addCharge a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response addChargeRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/add_charge", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceAddChargeResponse addCharge(String invoiceId, InvoiceAddChargeParams params)
      throws ChargebeeException {
    Response response = addChargeRaw(invoiceId, params);
    return InvoiceAddChargeResponse.fromJson(response.getBodyAsString(), response);
  }

  /** sendEinvoice a invoice (executes immediately) - returns raw Response. */
  Response sendEinvoiceRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/send_einvoice", "invoice-id", invoiceId);

    return post(path, null);
  }

  public SendEinvoiceResponse sendEinvoice(String invoiceId) throws ChargebeeException {
    Response response = sendEinvoiceRaw(invoiceId);
    return SendEinvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** paymentSchedules a invoice (executes immediately) - returns raw Response. */
  Response paymentSchedulesRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/payment_schedules", "invoice-id", invoiceId);

    return get(path, null);
  }

  public InvoicePaymentSchedulesResponse paymentSchedules(String invoiceId)
      throws ChargebeeException {
    Response response = paymentSchedulesRaw(invoiceId);
    return InvoicePaymentSchedulesResponse.fromJson(response.getBodyAsString(), response);
  }

  /** writeOff a invoice (executes immediately) - returns raw Response. */
  Response writeOffRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** writeOff a invoice using immutable params (executes immediately) - returns raw Response. */
  Response writeOffRaw(String invoiceId, InvoiceWriteOffParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** writeOff a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response writeOffRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/write_off", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceWriteOffResponse writeOff(String invoiceId, InvoiceWriteOffParams params)
      throws ChargebeeException {
    Response response = writeOffRaw(invoiceId, params);
    return InvoiceWriteOffResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceWriteOffResponse writeOff(String invoiceId) throws ChargebeeException {
    Response response = writeOffRaw(invoiceId);
    return InvoiceWriteOffResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addChargeItem a invoice (executes immediately) - returns raw Response. */
  Response addChargeItemRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * addChargeItem a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response addChargeItemRaw(String invoiceId, InvoiceAddChargeItemParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * addChargeItem a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response addChargeItemRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_charge_item", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceAddChargeItemResponse addChargeItem(
      String invoiceId, InvoiceAddChargeItemParams params) throws ChargebeeException {
    Response response = addChargeItemRaw(invoiceId, params);
    return InvoiceAddChargeItemResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceAddChargeItemResponse addChargeItem(String invoiceId) throws ChargebeeException {
    Response response = addChargeItemRaw(invoiceId);
    return InvoiceAddChargeItemResponse.fromJson(response.getBodyAsString(), response);
  }

  /** pauseDunning a invoice (executes immediately) - returns raw Response. */
  Response pauseDunningRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * pauseDunning a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response pauseDunningRaw(String invoiceId, InvoicePauseDunningParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * pauseDunning a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response pauseDunningRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/pause_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoicePauseDunningResponse pauseDunning(
      String invoiceId, InvoicePauseDunningParams params) throws ChargebeeException {
    Response response = pauseDunningRaw(invoiceId, params);
    return InvoicePauseDunningResponse.fromJson(response.getBodyAsString(), response);
  }

  /** list a invoice using immutable params (executes immediately) - returns raw Response. */
  Response listRaw(InvoiceListParams params) throws ChargebeeException {

    return get("/invoices", params != null ? params.toQueryParams() : null);
  }

  /** list a invoice without params (executes immediately) - returns raw Response. */
  Response listRaw() throws ChargebeeException {

    return get("/invoices", null);
  }

  /** list a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response listRaw(String jsonPayload) throws ChargebeeException {

    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoiceListResponse list(InvoiceListParams params) throws ChargebeeException {
    Response response = listRaw(params);

    return InvoiceListResponse.fromJson(response.getBodyAsString(), this, params, response);
  }

  public InvoiceListResponse list() throws ChargebeeException {
    Response response = listRaw();

    return InvoiceListResponse.fromJson(response.getBodyAsString(), this, null, response);
  }

  /** create a invoice using immutable params (executes immediately) - returns raw Response. */
  Response createRaw(InvoiceCreateParams params) throws ChargebeeException {

    return post("/invoices", params != null ? params.toFormData() : null);
  }

  /** create a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response createRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices", jsonPayload);
  }

  public InvoiceCreateResponse create(InvoiceCreateParams params) throws ChargebeeException {
    Response response = createRaw(params);

    return InvoiceCreateResponse.fromJson(response.getBodyAsString(), response);
  }

  /** close a invoice (executes immediately) - returns raw Response. */
  Response closeRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** close a invoice using immutable params (executes immediately) - returns raw Response. */
  Response closeRaw(String invoiceId, InvoiceCloseParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** close a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response closeRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/close", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceCloseResponse close(String invoiceId, InvoiceCloseParams params)
      throws ChargebeeException {
    Response response = closeRaw(invoiceId, params);
    return InvoiceCloseResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceCloseResponse close(String invoiceId) throws ChargebeeException {
    Response response = closeRaw(invoiceId);
    return InvoiceCloseResponse.fromJson(response.getBodyAsString(), response);
  }

  /** applyCredits a invoice (executes immediately) - returns raw Response. */
  Response applyCreditsRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * applyCredits a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response applyCreditsRaw(String invoiceId, InvoiceApplyCreditsParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * applyCredits a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response applyCreditsRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/apply_credits", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceApplyCreditsResponse applyCredits(
      String invoiceId, InvoiceApplyCreditsParams params) throws ChargebeeException {
    Response response = applyCreditsRaw(invoiceId, params);
    return InvoiceApplyCreditsResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceApplyCreditsResponse applyCredits(String invoiceId) throws ChargebeeException {
    Response response = applyCreditsRaw(invoiceId);
    return InvoiceApplyCreditsResponse.fromJson(response.getBodyAsString(), response);
  }

  /** retrieve a invoice (executes immediately) - returns raw Response. */
  Response retrieveRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}", "invoice-id", invoiceId);

    return get(path, null);
  }

  /** retrieve a invoice using immutable params (executes immediately) - returns raw Response. */
  Response retrieveRaw(String invoiceId, InvoiceRetrieveParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}", "invoice-id", invoiceId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  public InvoiceRetrieveResponse retrieve(String invoiceId, InvoiceRetrieveParams params)
      throws ChargebeeException {
    Response response = retrieveRaw(invoiceId, params);
    return InvoiceRetrieveResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRetrieveResponse retrieve(String invoiceId) throws ChargebeeException {
    Response response = retrieveRaw(invoiceId);
    return InvoiceRetrieveResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * createForChargeItem a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response createForChargeItemRaw(InvoiceCreateForChargeItemParams params)
      throws ChargebeeException {

    return post("/invoices/create_for_charge_item", params != null ? params.toFormData() : null);
  }

  /**
   * createForChargeItem a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response createForChargeItemRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices/create_for_charge_item", jsonPayload);
  }

  public InvoiceCreateForChargeItemResponse createForChargeItem(
      InvoiceCreateForChargeItemParams params) throws ChargebeeException {
    Response response = createForChargeItemRaw(params);

    return InvoiceCreateForChargeItemResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * createForChargeItemsAndCharges a invoice using immutable params (executes immediately) -
   * returns raw Response.
   */
  Response createForChargeItemsAndChargesRaw(InvoiceCreateForChargeItemsAndChargesParams params)
      throws ChargebeeException {

    return post(
        "/invoices/create_for_charge_items_and_charges",
        params != null ? params.toFormData() : null);
  }

  /**
   * createForChargeItemsAndCharges a invoice using raw JSON payload (executes immediately) -
   * returns raw Response.
   */
  Response createForChargeItemsAndChargesRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices/create_for_charge_items_and_charges", jsonPayload);
  }

  public InvoiceCreateForChargeItemsAndChargesResponse createForChargeItemsAndCharges(
      InvoiceCreateForChargeItemsAndChargesParams params) throws ChargebeeException {
    Response response = createForChargeItemsAndChargesRaw(params);

    return InvoiceCreateForChargeItemsAndChargesResponse.fromJson(
        response.getBodyAsString(), response);
  }

  /** deleteImported a invoice (executes immediately) - returns raw Response. */
  Response deleteImportedRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * deleteImported a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response deleteImportedRaw(String invoiceId, InvoiceDeleteImportedParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * deleteImported a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response deleteImportedRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/delete_imported", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceDeleteImportedResponse deleteImported(
      String invoiceId, InvoiceDeleteImportedParams params) throws ChargebeeException {
    Response response = deleteImportedRaw(invoiceId, params);
    return InvoiceDeleteImportedResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceDeleteImportedResponse deleteImported(String invoiceId) throws ChargebeeException {
    Response response = deleteImportedRaw(invoiceId);
    return InvoiceDeleteImportedResponse.fromJson(response.getBodyAsString(), response);
  }

  /** updateDetails a invoice (executes immediately) - returns raw Response. */
  Response updateDetailsRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * updateDetails a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response updateDetailsRaw(String invoiceId, InvoiceUpdateDetailsParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * updateDetails a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response updateDetailsRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/update_details", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceUpdateDetailsResponse updateDetails(
      String invoiceId, InvoiceUpdateDetailsParams params) throws ChargebeeException {
    Response response = updateDetailsRaw(invoiceId, params);
    return InvoiceUpdateDetailsResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceUpdateDetailsResponse updateDetails(String invoiceId) throws ChargebeeException {
    Response response = updateDetailsRaw(invoiceId);
    return InvoiceUpdateDetailsResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * invoicesForCustomer a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForCustomerRaw(String customerId, InvoicesForCustomerParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /** invoicesForCustomer a invoice without params (executes immediately) - returns raw Response. */
  Response invoicesForCustomerRaw(String customerId) throws ChargebeeException {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    return get(path, null);
  }

  /**
   * invoicesForCustomer a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForCustomerRaw(String customerId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/customers/{customer-id}/invoices", "customer-id", customerId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoicesForCustomerResponse invoicesForCustomer(
      String customerId, InvoicesForCustomerParams params) throws ChargebeeException {
    Response response = invoicesForCustomerRaw(customerId, params);
    return InvoicesForCustomerResponse.fromJson(
        response.getBodyAsString(), this, params, customerId, response);
  }

  public InvoicesForCustomerResponse invoicesForCustomer(String customerId)
      throws ChargebeeException {
    Response response = invoicesForCustomerRaw(customerId);
    return InvoicesForCustomerResponse.fromJson(
        response.getBodyAsString(), this, null, customerId, response);
  }

  /** recordPayment a invoice (executes immediately) - returns raw Response. */
  Response recordPaymentRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordPayment a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response recordPaymentRaw(String invoiceId, InvoiceRecordPaymentParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordPayment a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response recordPaymentRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRecordPaymentResponse recordPayment(
      String invoiceId, InvoiceRecordPaymentParams params) throws ChargebeeException {
    Response response = recordPaymentRaw(invoiceId, params);
    return InvoiceRecordPaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRecordPaymentResponse recordPayment(String invoiceId) throws ChargebeeException {
    Response response = recordPaymentRaw(invoiceId);
    return InvoiceRecordPaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  /** delete a invoice (executes immediately) - returns raw Response. */
  Response deleteRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** delete a invoice using immutable params (executes immediately) - returns raw Response. */
  Response deleteRaw(String invoiceId, InvoiceDeleteParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** delete a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response deleteRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/delete", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceDeleteResponse delete(String invoiceId, InvoiceDeleteParams params)
      throws ChargebeeException {
    Response response = deleteRaw(invoiceId, params);
    return InvoiceDeleteResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceDeleteResponse delete(String invoiceId) throws ChargebeeException {
    Response response = deleteRaw(invoiceId);
    return InvoiceDeleteResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * importInvoice a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response importInvoiceRaw(ImportInvoiceParams params) throws ChargebeeException {

    return post("/invoices/import_invoice", params != null ? params.toFormData() : null);
  }

  /**
   * importInvoice a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response importInvoiceRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices/import_invoice", jsonPayload);
  }

  public ImportInvoiceResponse importInvoice(ImportInvoiceParams params) throws ChargebeeException {
    Response response = importInvoiceRaw(params);

    return ImportInvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** resumeDunning a invoice (executes immediately) - returns raw Response. */
  Response resumeDunningRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * resumeDunning a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response resumeDunningRaw(String invoiceId, InvoiceResumeDunningParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * resumeDunning a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response resumeDunningRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resume_dunning", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceResumeDunningResponse resumeDunning(
      String invoiceId, InvoiceResumeDunningParams params) throws ChargebeeException {
    Response response = resumeDunningRaw(invoiceId, params);
    return InvoiceResumeDunningResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceResumeDunningResponse resumeDunning(String invoiceId) throws ChargebeeException {
    Response response = resumeDunningRaw(invoiceId);
    return InvoiceResumeDunningResponse.fromJson(response.getBodyAsString(), response);
  }

  /** recordTaxWithheld a invoice (executes immediately) - returns raw Response. */
  Response recordTaxWithheldRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordTaxWithheld a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response recordTaxWithheldRaw(String invoiceId, InvoiceRecordTaxWithheldParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordTaxWithheld a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response recordTaxWithheldRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_tax_withheld", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRecordTaxWithheldResponse recordTaxWithheld(
      String invoiceId, InvoiceRecordTaxWithheldParams params) throws ChargebeeException {
    Response response = recordTaxWithheldRaw(invoiceId, params);
    return InvoiceRecordTaxWithheldResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRecordTaxWithheldResponse recordTaxWithheld(String invoiceId)
      throws ChargebeeException {
    Response response = recordTaxWithheldRaw(invoiceId);
    return InvoiceRecordTaxWithheldResponse.fromJson(response.getBodyAsString(), response);
  }

  /** resendEinvoice a invoice (executes immediately) - returns raw Response. */
  Response resendEinvoiceRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/resend_einvoice", "invoice-id", invoiceId);

    return post(path, null);
  }

  public ResendEinvoiceResponse resendEinvoice(String invoiceId) throws ChargebeeException {
    Response response = resendEinvoiceRaw(invoiceId);
    return ResendEinvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** removeTaxWithheld a invoice (executes immediately) - returns raw Response. */
  Response removeTaxWithheldRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * removeTaxWithheld a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response removeTaxWithheldRaw(String invoiceId, InvoiceRemoveTaxWithheldParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * removeTaxWithheld a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response removeTaxWithheldRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/remove_tax_withheld", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRemoveTaxWithheldResponse removeTaxWithheld(
      String invoiceId, InvoiceRemoveTaxWithheldParams params) throws ChargebeeException {
    Response response = removeTaxWithheldRaw(invoiceId, params);
    return InvoiceRemoveTaxWithheldResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRemoveTaxWithheldResponse removeTaxWithheld(String invoiceId)
      throws ChargebeeException {
    Response response = removeTaxWithheldRaw(invoiceId);
    return InvoiceRemoveTaxWithheldResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * listPaymentReferenceNumbers a invoice using immutable params (executes immediately) - returns
   * raw Response.
   */
  Response listPaymentReferenceNumbersRaw(InvoiceListPaymentReferenceNumbersParams params)
      throws ChargebeeException {

    return get(
        "/invoices/payment_reference_numbers", params != null ? params.toQueryParams() : null);
  }

  /**
   * listPaymentReferenceNumbers a invoice without params (executes immediately) - returns raw
   * Response.
   */
  Response listPaymentReferenceNumbersRaw() throws ChargebeeException {

    return get("/invoices/payment_reference_numbers", null);
  }

  /**
   * listPaymentReferenceNumbers a invoice using raw JSON payload (executes immediately) - returns
   * raw Response.
   */
  Response listPaymentReferenceNumbersRaw(String jsonPayload) throws ChargebeeException {

    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoiceListPaymentReferenceNumbersResponse listPaymentReferenceNumbers(
      InvoiceListPaymentReferenceNumbersParams params) throws ChargebeeException {
    Response response = listPaymentReferenceNumbersRaw(params);

    return InvoiceListPaymentReferenceNumbersResponse.fromJson(
        response.getBodyAsString(), this, params, response);
  }

  public InvoiceListPaymentReferenceNumbersResponse listPaymentReferenceNumbers()
      throws ChargebeeException {
    Response response = listPaymentReferenceNumbersRaw();

    return InvoiceListPaymentReferenceNumbersResponse.fromJson(
        response.getBodyAsString(), this, null, response);
  }

  /** collectPayment a invoice (executes immediately) - returns raw Response. */
  Response collectPaymentRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * collectPayment a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response collectPaymentRaw(String invoiceId, InvoiceCollectPaymentParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * collectPayment a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response collectPaymentRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/collect_payment", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceCollectPaymentResponse collectPayment(
      String invoiceId, InvoiceCollectPaymentParams params) throws ChargebeeException {
    Response response = collectPaymentRaw(invoiceId, params);
    return InvoiceCollectPaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceCollectPaymentResponse collectPayment(String invoiceId) throws ChargebeeException {
    Response response = collectPaymentRaw(invoiceId);
    return InvoiceCollectPaymentResponse.fromJson(response.getBodyAsString(), response);
  }

  /** syncUsages a invoice (executes immediately) - returns raw Response. */
  Response syncUsagesRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/sync_usages", "invoice-id", invoiceId);

    return post(path, null);
  }

  public InvoiceSyncUsagesResponse syncUsages(String invoiceId) throws ChargebeeException {
    Response response = syncUsagesRaw(invoiceId);
    return InvoiceSyncUsagesResponse.fromJson(response.getBodyAsString(), response);
  }

  /** refund a invoice (executes immediately) - returns raw Response. */
  Response refundRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** refund a invoice using immutable params (executes immediately) - returns raw Response. */
  Response refundRaw(String invoiceId, InvoiceRefundParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** refund a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response refundRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/refund", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRefundResponse refund(String invoiceId, InvoiceRefundParams params)
      throws ChargebeeException {
    Response response = refundRaw(invoiceId, params);
    return InvoiceRefundResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRefundResponse refund(String invoiceId) throws ChargebeeException {
    Response response = refundRaw(invoiceId);
    return InvoiceRefundResponse.fromJson(response.getBodyAsString(), response);
  }

  /** recordRefund a invoice (executes immediately) - returns raw Response. */
  Response recordRefundRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * recordRefund a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response recordRefundRaw(String invoiceId, InvoiceRecordRefundParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * recordRefund a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response recordRefundRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/record_refund", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceRecordRefundResponse recordRefund(
      String invoiceId, InvoiceRecordRefundParams params) throws ChargebeeException {
    Response response = recordRefundRaw(invoiceId, params);
    return InvoiceRecordRefundResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoiceRecordRefundResponse recordRefund(String invoiceId) throws ChargebeeException {
    Response response = recordRefundRaw(invoiceId);
    return InvoiceRecordRefundResponse.fromJson(response.getBodyAsString(), response);
  }

  /** pdf a invoice (executes immediately) - returns raw Response. */
  Response pdfRaw(String invoiceId) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);

    return post(path, null);
  }

  /** pdf a invoice using immutable params (executes immediately) - returns raw Response. */
  Response pdfRaw(String invoiceId, InvoicePdfParams params) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /** pdf a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response pdfRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path = buildPathWithParams("/invoices/{invoice-id}/pdf", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoicePdfResponse pdf(String invoiceId, InvoicePdfParams params)
      throws ChargebeeException {
    Response response = pdfRaw(invoiceId, params);
    return InvoicePdfResponse.fromJson(response.getBodyAsString(), response);
  }

  public InvoicePdfResponse pdf(String invoiceId) throws ChargebeeException {
    Response response = pdfRaw(invoiceId);
    return InvoicePdfResponse.fromJson(response.getBodyAsString(), response);
  }

  /**
   * invoicesForSubscription a invoice using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId, InvoicesForSubscriptionParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /**
   * invoicesForSubscription a invoice without params (executes immediately) - returns raw Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId) throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    return get(path, null);
  }

  /**
   * invoicesForSubscription a invoice using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response invoicesForSubscriptionRaw(String subscriptionId, String jsonPayload)
      throws ChargebeeException {
    String path =
        buildPathWithParams(
            "/subscriptions/{subscription-id}/invoices", "subscription-id", subscriptionId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public InvoicesForSubscriptionResponse invoicesForSubscription(
      String subscriptionId, InvoicesForSubscriptionParams params) throws ChargebeeException {
    Response response = invoicesForSubscriptionRaw(subscriptionId, params);
    return InvoicesForSubscriptionResponse.fromJson(
        response.getBodyAsString(), this, params, subscriptionId, response);
  }

  public InvoicesForSubscriptionResponse invoicesForSubscription(String subscriptionId)
      throws ChargebeeException {
    Response response = invoicesForSubscriptionRaw(subscriptionId);
    return InvoicesForSubscriptionResponse.fromJson(
        response.getBodyAsString(), this, null, subscriptionId, response);
  }

  /** downloadEinvoice a invoice (executes immediately) - returns raw Response. */
  Response downloadEinvoiceRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/download_einvoice", "invoice-id", invoiceId);

    return get(path, null);
  }

  public DownloadEinvoiceResponse downloadEinvoice(String invoiceId) throws ChargebeeException {
    Response response = downloadEinvoiceRaw(invoiceId);
    return DownloadEinvoiceResponse.fromJson(response.getBodyAsString(), response);
  }

  /** chargeAddon a invoice using immutable params (executes immediately) - returns raw Response. */
  Response chargeAddonRaw(InvoiceChargeAddonParams params) throws ChargebeeException {

    return post("/invoices/charge_addon", params != null ? params.toFormData() : null);
  }

  /** chargeAddon a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response chargeAddonRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices/charge_addon", jsonPayload);
  }

  public InvoiceChargeAddonResponse chargeAddon(InvoiceChargeAddonParams params)
      throws ChargebeeException {
    Response response = chargeAddonRaw(params);

    return InvoiceChargeAddonResponse.fromJson(response.getBodyAsString(), response);
  }

  /** addAddonCharge a invoice (executes immediately) - returns raw Response. */
  Response addAddonChargeRaw(String invoiceId) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);

    return post(path, null);
  }

  /**
   * addAddonCharge a invoice using immutable params (executes immediately) - returns raw Response.
   */
  Response addAddonChargeRaw(String invoiceId, InvoiceAddAddonChargeParams params)
      throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);
    return post(path, params.toFormData());
  }

  /**
   * addAddonCharge a invoice using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response addAddonChargeRaw(String invoiceId, String jsonPayload) throws ChargebeeException {
    String path =
        buildPathWithParams("/invoices/{invoice-id}/add_addon_charge", "invoice-id", invoiceId);
    return postJson(path, jsonPayload);
  }

  public InvoiceAddAddonChargeResponse addAddonCharge(
      String invoiceId, InvoiceAddAddonChargeParams params) throws ChargebeeException {
    Response response = addAddonChargeRaw(invoiceId, params);
    return InvoiceAddAddonChargeResponse.fromJson(response.getBodyAsString(), response);
  }

  /** charge a invoice using immutable params (executes immediately) - returns raw Response. */
  Response chargeRaw(InvoiceChargeParams params) throws ChargebeeException {

    return post("/invoices/charge", params != null ? params.toFormData() : null);
  }

  /** charge a invoice using raw JSON payload (executes immediately) - returns raw Response. */
  Response chargeRaw(String jsonPayload) throws ChargebeeException {

    return postJson("/invoices/charge", jsonPayload);
  }

  public InvoiceChargeResponse charge(InvoiceChargeParams params) throws ChargebeeException {
    Response response = chargeRaw(params);

    return InvoiceChargeResponse.fromJson(response.getBodyAsString(), response);
  }
}
