/*
 * This file is auto-generated by Chargebee.
 * For more information on how to make changes to this file, please see the README.
 * Reach out to dx@chargebee.com for any questions.
 * Copyright 2025 Chargebee Inc.
 */

package com.chargebee.v4.core.services;

import com.chargebee.v4.client.ChargebeeClient;
import com.chargebee.v4.client.request.RequestOptions;
import com.chargebee.v4.transport.Response;

import com.chargebee.v4.core.models.customer.params.CustomerDeleteParams;

import com.chargebee.v4.core.models.customer.params.CustomerAddPromotionalCreditsParams;

import com.chargebee.v4.core.models.customer.params.CustomerRelationshipsParams;

import com.chargebee.v4.core.models.customer.params.CustomerDeleteContactParams;

import com.chargebee.v4.core.models.customer.params.CustomerAssignPaymentRoleParams;

import com.chargebee.v4.core.models.customer.params.CustomerMoveParams;

import com.chargebee.v4.core.models.customer.params.CustomerUpdatePaymentMethodParams;

import com.chargebee.v4.core.models.customer.params.CustomerUpdateParams;

import com.chargebee.v4.core.models.customer.params.CustomerListHierarchyDetailParams;

import com.chargebee.v4.core.models.customer.params.CustomerChangeBillingDateParams;

import com.chargebee.v4.core.models.customer.params.CustomerListParams;

import com.chargebee.v4.core.models.customer.params.CustomerCreateParams;

import com.chargebee.v4.core.models.customer.params.CustomerAddContactParams;

import com.chargebee.v4.core.models.customer.params.CustomerContactsForCustomerParams;

import com.chargebee.v4.core.models.customer.params.CustomerDeductPromotionalCreditsParams;

import com.chargebee.v4.core.models.customer.params.CustomerMergeParams;

import com.chargebee.v4.core.models.customer.params.CustomerCollectPaymentParams;

import com.chargebee.v4.core.models.customer.params.CustomerRecordExcessPaymentParams;

import com.chargebee.v4.core.models.customer.params.CustomerSetPromotionalCreditsParams;

import com.chargebee.v4.core.models.customer.params.CustomerUpdateContactParams;

import com.chargebee.v4.core.models.customer.params.CustomerUpdateHierarchySettingsParams;

import com.chargebee.v4.core.models.customer.params.CustomerUpdateBillingInfoParams;

import com.chargebee.v4.core.responses.customer.CustomerDeleteResponse;

import com.chargebee.v4.core.responses.customer.CustomerAddPromotionalCreditsResponse;

import com.chargebee.v4.core.responses.customer.CustomerRelationshipsResponse;

import com.chargebee.v4.core.responses.customer.CustomerDeleteRelationshipResponse;

import com.chargebee.v4.core.responses.customer.CustomerDeleteContactResponse;

import com.chargebee.v4.core.responses.customer.CustomerAssignPaymentRoleResponse;

import com.chargebee.v4.core.responses.customer.CustomerMoveResponse;

import com.chargebee.v4.core.responses.customer.CustomerHierarchyResponse;

import com.chargebee.v4.core.responses.customer.CustomerUpdatePaymentMethodResponse;

import com.chargebee.v4.core.responses.customer.CustomerRetrieveResponse;

import com.chargebee.v4.core.responses.customer.CustomerUpdateResponse;

import com.chargebee.v4.core.responses.customer.CustomerListHierarchyDetailResponse;

import com.chargebee.v4.core.responses.customer.CustomerChangeBillingDateResponse;

import com.chargebee.v4.core.responses.customer.CustomerListResponse;

import com.chargebee.v4.core.responses.customer.CustomerCreateResponse;

import com.chargebee.v4.core.responses.customer.CustomerAddContactResponse;

import com.chargebee.v4.core.responses.customer.CustomerContactsForCustomerResponse;

import com.chargebee.v4.core.responses.customer.CustomerDeductPromotionalCreditsResponse;

import com.chargebee.v4.core.responses.customer.CustomerClearPersonalDataResponse;

import com.chargebee.v4.core.responses.customer.CustomerMergeResponse;

import com.chargebee.v4.core.responses.customer.CustomerCollectPaymentResponse;

import com.chargebee.v4.core.responses.customer.CustomerRecordExcessPaymentResponse;

import com.chargebee.v4.core.responses.customer.CustomerSetPromotionalCreditsResponse;

import com.chargebee.v4.core.responses.customer.CustomerUpdateContactResponse;

import com.chargebee.v4.core.responses.customer.CustomerUpdateHierarchySettingsResponse;

import com.chargebee.v4.core.responses.customer.CustomerUpdateBillingInfoResponse;

public final class CustomerService extends BaseService<CustomerService> {

  private final ServiceConfig config;

  public CustomerService(ChargebeeClient client) {
    super(client);
    this.config = ServiceConfig.defaultConfig();
  }

  private CustomerService(ChargebeeClient client, RequestOptions options) {
    super(client, options);
    this.config = ServiceConfig.defaultConfig();
  }

  private CustomerService(ChargebeeClient client, RequestOptions options, ServiceConfig config) {
    super(client, options);
    this.config = config;
  }

  @Override
  CustomerService with(RequestOptions newOptions) {
    return new CustomerService(client, newOptions, config);
  }

  /**
   * Apply per-request options for this service instance. Users can chain .withOptions or .options
   * to set headers and other options.
   */
  public CustomerService withOptions(RequestOptions options) {
    return with(options);
  }

  // === Operations ===

  /** delete a customer (executes immediately) - returns raw Response. */
  Response deleteRaw(String customerId) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}/delete", "customer-id", customerId);

    return post(path, null);
  }

  /** delete a customer using immutable params (executes immediately) - returns raw Response. */
  Response deleteRaw(String customerId, CustomerDeleteParams params) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}/delete", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /** delete a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response deleteRaw(String customerId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}/delete", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerDeleteResponse delete(String customerId, CustomerDeleteParams params)
      throws Exception {
    Response response = deleteRaw(customerId, params);
    return parseResponse(response, CustomerDeleteResponse.class);
  }

  /** addPromotionalCredits a customer (executes immediately) - returns raw Response. */
  Response addPromotionalCreditsRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/add_promotional_credits", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * addPromotionalCredits a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response addPromotionalCreditsRaw(String customerId, CustomerAddPromotionalCreditsParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/add_promotional_credits", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * addPromotionalCredits a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response addPromotionalCreditsRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/add_promotional_credits", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerAddPromotionalCreditsResponse addPromotionalCredits(
      String customerId, CustomerAddPromotionalCreditsParams params) throws Exception {
    Response response = addPromotionalCreditsRaw(customerId, params);
    return parseResponse(response, CustomerAddPromotionalCreditsResponse.class);
  }

  /** relationships a customer (executes immediately) - returns raw Response. */
  Response relationshipsRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/relationships", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * relationships a customer using immutable params (executes immediately) - returns raw Response.
   */
  Response relationshipsRaw(String customerId, CustomerRelationshipsParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/relationships", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * relationships a customer using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response relationshipsRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/relationships", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerRelationshipsResponse relationships(
      String customerId, CustomerRelationshipsParams params) throws Exception {
    Response response = relationshipsRaw(customerId, params);
    return parseResponse(response, CustomerRelationshipsResponse.class);
  }

  /** deleteRelationship a customer (executes immediately) - returns raw Response. */
  Response deleteRelationshipRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/delete_relationship", "customer-id", customerId);

    return post(path, null);
  }

  public CustomerDeleteRelationshipResponse deleteRelationship(String customerId) throws Exception {
    Response response = deleteRelationshipRaw(customerId);
    return parseResponse(response, CustomerDeleteRelationshipResponse.class);
  }

  /** deleteContact a customer (executes immediately) - returns raw Response. */
  Response deleteContactRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/delete_contact", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * deleteContact a customer using immutable params (executes immediately) - returns raw Response.
   */
  Response deleteContactRaw(String customerId, CustomerDeleteContactParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/delete_contact", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * deleteContact a customer using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response deleteContactRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/delete_contact", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerDeleteContactResponse deleteContact(
      String customerId, CustomerDeleteContactParams params) throws Exception {
    Response response = deleteContactRaw(customerId, params);
    return parseResponse(response, CustomerDeleteContactResponse.class);
  }

  /** assignPaymentRole a customer (executes immediately) - returns raw Response. */
  Response assignPaymentRoleRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/assign_payment_role", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * assignPaymentRole a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response assignPaymentRoleRaw(String customerId, CustomerAssignPaymentRoleParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/assign_payment_role", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * assignPaymentRole a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response assignPaymentRoleRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/assign_payment_role", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerAssignPaymentRoleResponse assignPaymentRole(
      String customerId, CustomerAssignPaymentRoleParams params) throws Exception {
    Response response = assignPaymentRoleRaw(customerId, params);
    return parseResponse(response, CustomerAssignPaymentRoleResponse.class);
  }

  /** move a customer using immutable params (executes immediately) - returns raw Response. */
  Response moveRaw(CustomerMoveParams params) throws Exception {

    return post("/customers/move", params != null ? params.toFormData() : null);
  }

  /** move a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response moveRaw(String jsonPayload) throws Exception {

    return postJson("/customers/move", jsonPayload);
  }

  public CustomerMoveResponse move(CustomerMoveParams params) throws Exception {
    Response response = moveRaw(params);

    return parseResponse(response, CustomerMoveResponse.class);
  }

  /** hierarchy a customer (executes immediately) - returns raw Response. */
  Response hierarchyRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/hierarchy", "customer-id", customerId);

    return get(path, null);
  }

  public CustomerHierarchyResponse hierarchy(String customerId) throws Exception {
    Response response = hierarchyRaw(customerId);
    return parseResponse(response, CustomerHierarchyResponse.class);
  }

  /** updatePaymentMethod a customer (executes immediately) - returns raw Response. */
  Response updatePaymentMethodRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_payment_method", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * updatePaymentMethod a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response updatePaymentMethodRaw(String customerId, CustomerUpdatePaymentMethodParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_payment_method", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * updatePaymentMethod a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response updatePaymentMethodRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_payment_method", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerUpdatePaymentMethodResponse updatePaymentMethod(
      String customerId, CustomerUpdatePaymentMethodParams params) throws Exception {
    Response response = updatePaymentMethodRaw(customerId, params);
    return parseResponse(response, CustomerUpdatePaymentMethodResponse.class);
  }

  /** retrieve a customer (executes immediately) - returns raw Response. */
  Response retrieveRaw(String customerId) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}", "customer-id", customerId);

    return get(path, null);
  }

  public CustomerRetrieveResponse retrieve(String customerId) throws Exception {
    Response response = retrieveRaw(customerId);
    return parseResponse(response, CustomerRetrieveResponse.class);
  }

  /** update a customer (executes immediately) - returns raw Response. */
  Response updateRaw(String customerId) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}", "customer-id", customerId);

    return post(path, null);
  }

  /** update a customer using immutable params (executes immediately) - returns raw Response. */
  Response updateRaw(String customerId, CustomerUpdateParams params) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /** update a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response updateRaw(String customerId, String jsonPayload) throws Exception {
    String path = buildPathWithParams("/customers/{customer-id}", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerUpdateResponse update(String customerId, CustomerUpdateParams params)
      throws Exception {
    Response response = updateRaw(customerId, params);
    return parseResponse(response, CustomerUpdateResponse.class);
  }

  /**
   * listHierarchyDetail a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response listHierarchyDetailRaw(String customerId, CustomerListHierarchyDetailParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/hierarchy_detail", "customer-id", customerId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /**
   * listHierarchyDetail a customer without params (executes immediately) - returns raw Response.
   */
  Response listHierarchyDetailRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/hierarchy_detail", "customer-id", customerId);
    return get(path, null);
  }

  /**
   * listHierarchyDetail a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response listHierarchyDetailRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/hierarchy_detail", "customer-id", customerId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public CustomerListHierarchyDetailResponse listHierarchyDetail(
      String customerId, CustomerListHierarchyDetailParams params) throws Exception {
    Response response = listHierarchyDetailRaw(customerId, params);
    return CustomerListHierarchyDetailResponse.fromJson(
        response.getBodyAsString(), this, params, customerId);
  }

  public CustomerListHierarchyDetailResponse listHierarchyDetail(String customerId)
      throws Exception {
    Response response = listHierarchyDetailRaw(customerId);
    return CustomerListHierarchyDetailResponse.fromJson(
        response.getBodyAsString(), this, null, customerId);
  }

  /** changeBillingDate a customer (executes immediately) - returns raw Response. */
  Response changeBillingDateRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/change_billing_date", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * changeBillingDate a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response changeBillingDateRaw(String customerId, CustomerChangeBillingDateParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/change_billing_date", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * changeBillingDate a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response changeBillingDateRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/change_billing_date", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerChangeBillingDateResponse changeBillingDate(
      String customerId, CustomerChangeBillingDateParams params) throws Exception {
    Response response = changeBillingDateRaw(customerId, params);
    return parseResponse(response, CustomerChangeBillingDateResponse.class);
  }

  /** list a customer using immutable params (executes immediately) - returns raw Response. */
  Response listRaw(CustomerListParams params) throws Exception {

    return get("/customers", params != null ? params.toQueryParams() : null);
  }

  /** list a customer without params (executes immediately) - returns raw Response. */
  Response listRaw() throws Exception {

    return get("/customers", null);
  }

  /** list a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response listRaw(String jsonPayload) throws Exception {

    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public CustomerListResponse list(CustomerListParams params) throws Exception {
    Response response = listRaw(params);

    return CustomerListResponse.fromJson(response.getBodyAsString(), this, params);
  }

  public CustomerListResponse list() throws Exception {
    Response response = listRaw();
    return CustomerListResponse.fromJson(response.getBodyAsString(), this, null);
  }

  /** create a customer using immutable params (executes immediately) - returns raw Response. */
  Response createRaw(CustomerCreateParams params) throws Exception {

    return post("/customers", params != null ? params.toFormData() : null);
  }

  /** create a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response createRaw(String jsonPayload) throws Exception {

    return postJson("/customers", jsonPayload);
  }

  public CustomerCreateResponse create(CustomerCreateParams params) throws Exception {
    Response response = createRaw(params);

    return parseResponse(response, CustomerCreateResponse.class);
  }

  /** addContact a customer (executes immediately) - returns raw Response. */
  Response addContactRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/add_contact", "customer-id", customerId);

    return post(path, null);
  }

  /** addContact a customer using immutable params (executes immediately) - returns raw Response. */
  Response addContactRaw(String customerId, CustomerAddContactParams params) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/add_contact", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /** addContact a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response addContactRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/add_contact", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerAddContactResponse addContact(String customerId, CustomerAddContactParams params)
      throws Exception {
    Response response = addContactRaw(customerId, params);
    return parseResponse(response, CustomerAddContactResponse.class);
  }

  /**
   * contactsForCustomer a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response contactsForCustomerRaw(String customerId, CustomerContactsForCustomerParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/contacts", "customer-id", customerId);
    return get(path, params != null ? params.toQueryParams() : null);
  }

  /**
   * contactsForCustomer a customer without params (executes immediately) - returns raw Response.
   */
  Response contactsForCustomerRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/contacts", "customer-id", customerId);
    return get(path, null);
  }

  /**
   * contactsForCustomer a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response contactsForCustomerRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/contacts", "customer-id", customerId);
    throw new UnsupportedOperationException("JSON payload not supported for GET operations");
  }

  public CustomerContactsForCustomerResponse contactsForCustomer(
      String customerId, CustomerContactsForCustomerParams params) throws Exception {
    Response response = contactsForCustomerRaw(customerId, params);
    return CustomerContactsForCustomerResponse.fromJson(
        response.getBodyAsString(), this, params, customerId);
  }

  public CustomerContactsForCustomerResponse contactsForCustomer(String customerId)
      throws Exception {
    Response response = contactsForCustomerRaw(customerId);
    return CustomerContactsForCustomerResponse.fromJson(
        response.getBodyAsString(), this, null, customerId);
  }

  /** deductPromotionalCredits a customer (executes immediately) - returns raw Response. */
  Response deductPromotionalCreditsRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/deduct_promotional_credits", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * deductPromotionalCredits a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response deductPromotionalCreditsRaw(
      String customerId, CustomerDeductPromotionalCreditsParams params) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/deduct_promotional_credits", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * deductPromotionalCredits a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response deductPromotionalCreditsRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/deduct_promotional_credits", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerDeductPromotionalCreditsResponse deductPromotionalCredits(
      String customerId, CustomerDeductPromotionalCreditsParams params) throws Exception {
    Response response = deductPromotionalCreditsRaw(customerId, params);
    return parseResponse(response, CustomerDeductPromotionalCreditsResponse.class);
  }

  /** clearPersonalData a customer (executes immediately) - returns raw Response. */
  Response clearPersonalDataRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/clear_personal_data", "customer-id", customerId);

    return post(path, null);
  }

  public CustomerClearPersonalDataResponse clearPersonalData(String customerId) throws Exception {
    Response response = clearPersonalDataRaw(customerId);
    return parseResponse(response, CustomerClearPersonalDataResponse.class);
  }

  /** merge a customer using immutable params (executes immediately) - returns raw Response. */
  Response mergeRaw(CustomerMergeParams params) throws Exception {

    return post("/customers/merge", params != null ? params.toFormData() : null);
  }

  /** merge a customer using raw JSON payload (executes immediately) - returns raw Response. */
  Response mergeRaw(String jsonPayload) throws Exception {

    return postJson("/customers/merge", jsonPayload);
  }

  public CustomerMergeResponse merge(CustomerMergeParams params) throws Exception {
    Response response = mergeRaw(params);

    return parseResponse(response, CustomerMergeResponse.class);
  }

  /** collectPayment a customer (executes immediately) - returns raw Response. */
  Response collectPaymentRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/collect_payment", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * collectPayment a customer using immutable params (executes immediately) - returns raw Response.
   */
  Response collectPaymentRaw(String customerId, CustomerCollectPaymentParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/collect_payment", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * collectPayment a customer using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response collectPaymentRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/collect_payment", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerCollectPaymentResponse collectPayment(
      String customerId, CustomerCollectPaymentParams params) throws Exception {
    Response response = collectPaymentRaw(customerId, params);
    return parseResponse(response, CustomerCollectPaymentResponse.class);
  }

  /** recordExcessPayment a customer (executes immediately) - returns raw Response. */
  Response recordExcessPaymentRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/record_excess_payment", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * recordExcessPayment a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response recordExcessPaymentRaw(String customerId, CustomerRecordExcessPaymentParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/record_excess_payment", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * recordExcessPayment a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response recordExcessPaymentRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/record_excess_payment", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerRecordExcessPaymentResponse recordExcessPayment(
      String customerId, CustomerRecordExcessPaymentParams params) throws Exception {
    Response response = recordExcessPaymentRaw(customerId, params);
    return parseResponse(response, CustomerRecordExcessPaymentResponse.class);
  }

  /** setPromotionalCredits a customer (executes immediately) - returns raw Response. */
  Response setPromotionalCreditsRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/set_promotional_credits", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * setPromotionalCredits a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response setPromotionalCreditsRaw(String customerId, CustomerSetPromotionalCreditsParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/set_promotional_credits", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * setPromotionalCredits a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response setPromotionalCreditsRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/set_promotional_credits", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerSetPromotionalCreditsResponse setPromotionalCredits(
      String customerId, CustomerSetPromotionalCreditsParams params) throws Exception {
    Response response = setPromotionalCreditsRaw(customerId, params);
    return parseResponse(response, CustomerSetPromotionalCreditsResponse.class);
  }

  /** updateContact a customer (executes immediately) - returns raw Response. */
  Response updateContactRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/update_contact", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * updateContact a customer using immutable params (executes immediately) - returns raw Response.
   */
  Response updateContactRaw(String customerId, CustomerUpdateContactParams params)
      throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/update_contact", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * updateContact a customer using raw JSON payload (executes immediately) - returns raw Response.
   */
  Response updateContactRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams("/customers/{customer-id}/update_contact", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerUpdateContactResponse updateContact(
      String customerId, CustomerUpdateContactParams params) throws Exception {
    Response response = updateContactRaw(customerId, params);
    return parseResponse(response, CustomerUpdateContactResponse.class);
  }

  /** updateHierarchySettings a customer (executes immediately) - returns raw Response. */
  Response updateHierarchySettingsRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_hierarchy_settings", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * updateHierarchySettings a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response updateHierarchySettingsRaw(
      String customerId, CustomerUpdateHierarchySettingsParams params) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_hierarchy_settings", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * updateHierarchySettings a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response updateHierarchySettingsRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_hierarchy_settings", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerUpdateHierarchySettingsResponse updateHierarchySettings(
      String customerId, CustomerUpdateHierarchySettingsParams params) throws Exception {
    Response response = updateHierarchySettingsRaw(customerId, params);
    return parseResponse(response, CustomerUpdateHierarchySettingsResponse.class);
  }

  /** updateBillingInfo a customer (executes immediately) - returns raw Response. */
  Response updateBillingInfoRaw(String customerId) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_billing_info", "customer-id", customerId);

    return post(path, null);
  }

  /**
   * updateBillingInfo a customer using immutable params (executes immediately) - returns raw
   * Response.
   */
  Response updateBillingInfoRaw(String customerId, CustomerUpdateBillingInfoParams params)
      throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_billing_info", "customer-id", customerId);
    return post(path, params.toFormData());
  }

  /**
   * updateBillingInfo a customer using raw JSON payload (executes immediately) - returns raw
   * Response.
   */
  Response updateBillingInfoRaw(String customerId, String jsonPayload) throws Exception {
    String path =
        buildPathWithParams(
            "/customers/{customer-id}/update_billing_info", "customer-id", customerId);
    return postJson(path, jsonPayload);
  }

  public CustomerUpdateBillingInfoResponse updateBillingInfo(
      String customerId, CustomerUpdateBillingInfoParams params) throws Exception {
    Response response = updateBillingInfoRaw(customerId, params);
    return parseResponse(response, CustomerUpdateBillingInfoResponse.class);
  }
}
